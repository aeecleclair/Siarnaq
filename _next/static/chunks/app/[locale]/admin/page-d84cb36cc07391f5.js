(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{6647:function(e,s,t){Promise.resolve().then(t.bind(t,8291))},8291:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return eX}});var a=t(7437),l=t(2265),i=t(271),n=t(3448);let r=i.fC,d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.aV,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});d.displayName=i.aV.displayName;let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});c.displayName=i.xz.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});o.displayName=i.VY.displayName;var u=t(5860),m=t(4259),x=t(3372),f=t(9376),h=t(2339),p=t(16),j=t(3972);let v=e=>{var s;let{isTokenExpired:t}=(0,j.d)(),{data:a,isLoading:l,refetch:i}=(0,p.a)({queryKey:["sellerProducts",null!=e?e:""],queryFn:()=>(0,h.MgL)({path:{seller_id:e}}),retry:3,enabled:!t()&&!!e});return{products:(null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.sort((e,s)=>Number(e.needs_validation)-Number(s.needs_validation)))||[],isLoading:l,refetch:i}};var g=t(5779),N=t(2549),b=t(8728),w=t(8706),y=t(423),S=t(670),_=t(279),C=t(8752),k=t(1229),z=t(3590),F=t(9501);let P=()=>{var e;let s=(e=(0,w.T_)("curriculumFormSchema"),k.ZP.object({name:k.ZP.string({required_error:e("name")}).min(1,{message:e("name")})})),t=(0,w.T_)("addCurriculumButton"),{toast:i}=(0,C.p)(),{refetch:n}=(0,b.M)(),[r,d]=(0,l.useState)(!1),c=(0,F.cI)({resolver:(0,z.F)(s),mode:"onBlur",defaultValues:{}});async function o(e){d(!0);let s={...e},{data:t,error:a}=await (0,h.hRe)({body:s});if(a){i({description:a.detail,variant:"destructive"}),d(!1);return}n(),d(!1),c.reset({name:""})}return(0,a.jsx)(S.l0,{...c,children:(0,a.jsx)("form",{onSubmit:c.handleSubmit(o),children:(0,a.jsxs)("div",{className:"w-full flex flex-row gap-4 p-1 pr-0",children:[(0,a.jsx)(S.Wi,{control:c.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsx)(S.xJ,{className:"w-full",children:(0,a.jsx)(S.NI,{children:(0,a.jsx)(_.I,{...s,type:"text",placeholder:t("curriculumName")})})})}}),(0,a.jsx)(y.f,{variant:"outline",type:"submit",isLoading:r,className:"w-[100px]",children:t("add")})]})})})};var V=t(7780);let R=e=>{let{curriculum:s}=e,{toast:t}=(0,C.p)(),{refetch:i}=(0,b.M)(),[n,r]=(0,l.useState)(!1);async function d(e){r(!0);let{data:s,error:a}=await (0,h.QA_)({path:{curriculum_id:e}});if(a){t({description:a.detail,variant:"destructive"}),r(!1);return}i(),r(!1)}return(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(y.f,{size:"icon",variant:"destructive",className:"h-8",isLoading:n,onClick:()=>d(s.id),children:(0,a.jsx)(V._YF,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"ml-4",children:s.name})]},s.id)},I=()=>{let e=(0,w.T_)("curriculumAccordionItem"),{curriculums:s}=(0,b.M)();return(0,a.jsxs)(N.Qd,{value:"curriculum",children:[(0,a.jsx)(N.o4,{children:(0,a.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e("curriculum")})})}),(0,a.jsxs)(N.vF,{className:"space-y-2",children:[(0,a.jsx)(P,{}),s.map(e=>(0,a.jsx)(R,{curriculum:e},e.id))]})]})},T=()=>{let{isTokenExpired:e}=(0,j.d)(),{data:s,isLoading:t,refetch:a}=(0,p.a)({queryKey:["groups"],queryFn:h.jA4,retry:3,enabled:!e()});return{groups:(null==s?void 0:s.data)||[],isLoading:t,refetch:a}},A=e=>{let{group:s,sellers:t}=e,{toast:i}=(0,C.p)(),{refetch:n}=T(),{refetch:r}=(0,m.d)(),[d,c]=(0,l.useState)(!1),o=t.map(e=>e.group_id);async function u(e){c(!0);let s={group_id:e.id,name:e.name,order:t.length+1},{data:a,error:l}=await (0,h.sKK)({body:s});if(l){i({description:l.detail,variant:"destructive"}),c(!1);return}n(),r(),c(!1)}async function x(e){c(!0);let{data:s,error:t}=await (0,h.vJT)({path:{seller_id:e}});if(t){i({description:t.detail,variant:"destructive"}),c(!1);return}n(),r(),c(!1)}return(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[o.includes(s.id)?(0,a.jsx)(y.f,{size:"icon",variant:"destructive",className:"h-8",isLoading:d,onClick:()=>x(t.find(e=>e.group_id===s.id).id),children:(0,a.jsx)(V._YF,{className:"w-5 h-5"})}):(0,a.jsx)(y.f,{variant:"outline",size:"icon",className:"h-8",isLoading:d,onClick:()=>u(s),children:(0,a.jsx)(V.b9W,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"ml-4",children:s.name})]},s.id)},U=e=>{let{sellers:s}=e,t=(0,w.T_)("sellerAccordionItem"),{groups:l}=T();return(0,a.jsxs)(N.Qd,{value:"association",children:[(0,a.jsx)(N.o4,{children:(0,a.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:t("association")})})}),(0,a.jsx)(N.vF,{className:"space-y-2",children:l.map(e=>(0,a.jsx)(A,{group:e,sellers:s},e.id))})]})},L=()=>{let{isTokenExpired:e}=(0,j.d)(),{data:s,isLoading:t,refetch:a}=(0,p.a)({queryKey:["status"],queryFn:h.Dy4,retry:3,enabled:!e()});return{status:null==s?void 0:s.data,isLoading:t,refetch:a}},E=e=>{let{status:s}=e,t=(0,w.T_)("statusAccordionItem"),{toast:i}=(0,C.p)(),{refetch:n}=L(),[r,d]=(0,l.useState)(!1),c=async e=>{d(!0);let{data:s,error:t}=await (0,h.kb4)({body:{status:e}});if(t){i({description:t.detail,variant:"destructive"}),d(!1);return}n(),d(!1)},o={pending:t("pending"),online:t("online"),onsite:t("onsite"),closed:t("closed")},u={pending:"online",online:"onsite",onsite:"closed",closed:"pending"},m={pending:t("reinit"),online:t("setOnline"),onsite:t("onSiteButtonLabel"),closed:t("close")};return(0,a.jsxs)(N.Qd,{value:"status",children:[(0,a.jsx)(N.o4,{children:(0,a.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:t("status")})})}),(0,a.jsx)(N.vF,{className:"space-y-2",children:s&&(0,a.jsxs)("div",{className:"flex flex-row space-y-2 justify-between items-center w-full",children:[(0,a.jsx)("span",{children:o[s.status]}),(0,a.jsx)(y.f,{onClick:()=>c(u[s.status]),isLoading:r,className:"w-[130px]",children:m[u[s.status]]})]})})]})},O=e=>{let{sellers:s,status:t}=e;return(0,a.jsxs)(N.UQ,{type:"multiple",defaultValue:["status"],children:[(0,a.jsx)(U,{sellers:s}),(0,a.jsx)(I,{}),(0,a.jsx)(E,{status:t})]})};var Z=t(2601),M=t(4770),q=t(1481),D=t(2381),Q=t(9820),W=t(5060),X=t(5291),K=t(1593),B=t(1030);let Y=["Autre","Adoma","Exte","T1","T2","T3","T4","T56","U1","U2","U3","U4","U56","V1","V2","V3","V45","V6","X1","X2","X3","X4","X5","X6"],G=e=>{let{form:s,isLoading:t,setIsOpened:l,closeDialog:i}=e,n=new Date().getFullYear();Array.from({length:5}).map((e,s)=>(n-s).toString());let r=(0,w.T_)("migrateUserForm");return(0,a.jsxs)("div",{className:"grid gap-6 mt-4",children:[(0,a.jsx)(B.L,{form:s,label:r("nickname"),id:"nickname",input:e=>(0,a.jsx)(_.I,{...e})}),(0,a.jsx)(B.L,{form:s,label:r("eclEmail"),id:"email",input:e=>(0,a.jsx)(_.I,{...e,type:"email"})}),(0,a.jsx)("div",{className:"flex flex-row gap-2 w-full",children:(0,a.jsx)(B.L,{form:s,label:r("floor"),id:"floor",input:e=>(0,a.jsxs)(X.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(X.i4,{children:(0,a.jsx)(X.ki,{})}),(0,a.jsx)(X.Bw,{side:"top",children:Y.map(e=>(0,a.jsx)(X.Ql,{value:e,children:(0,a.jsx)("div",{className:"flex items-center flex-row gap-2",children:e})},e))})]})})}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,a.jsx)(D.z,{variant:"outline",onClick:i,disabled:t,className:"w-[100px]",children:r("cancel")}),(0,a.jsx)(y.f,{isLoading:t,className:"w-[100px]",type:"submit",children:r("edit")})]})]})};var J=t(7341),H=t(1945),$=t(9961),ee=t(915),es=t(3156);let et=e=>{var s,t,i,n,r,d,c,o;let{user:u,refetch:m}=e,x=(o=(0,w.T_)("migrateUserFormSchema"),k.ZP.object({nickname:k.ZP.string().optional(),email:k.ZP.string().email({message:o("email")}).optional(),floor:k.ZP.enum(Y).optional(),birthday:k.ZP.date().optional(),phone:k.ZP.string().refine(e=>(0,J.y)("+"+e),{message:o("phone")}).optional(),promo:k.ZP.string().refine(e=>{let s=parseInt(e);return!isNaN(s)&&s>=0},{message:o("promo")}).optional()})),f=(0,w.T_)("recapPanel"),p=(0,w.Gb)(),{toast:j}=(0,C.p)(),{total:v}=(0,H.T)(u.id),{total:g}=(0,$.$)(u.id),{curriculums:N}=(0,b.M)(),[_,P]=(0,l.useState)(!1),[R,I]=(0,l.useState)(!1),T=!!(null===(s=u.curriculum)||void 0===s?void 0:s.id),[A,U]=(0,l.useState)(null===(t=u.curriculum)||void 0===t?void 0:t.id),L=/^[\w\-.]*@etu(-enise)?\.ec-lyon\.fr$/;function E(e){e.stopPropagation(),P(!1)}async function O(){var e;if(I(!0),!A){I(!1),P(!1);return}if(T){let{data:s,error:t}=await (0,h.gKZ)({path:{user_id:u.id,curriculum_id:A}});e=t}else{let{data:s,error:t}=await (0,h.Vum)({path:{user_id:u.id,curriculum_id:A}});e=t}if(e){j({description:e.detail,variant:"destructive"}),I(!1),P(!1);return}m(),P(!1),I(!1)}let B=(0,F.cI)({resolver:(0,z.F)(x),mode:"onBlur",defaultValues:{nickname:null!==(n=u.nickname)&&void 0!==n?n:void 0,email:null!==(r=u.email)&&void 0!==r?r:void 0,floor:null!==(d=u.floor)&&void 0!==d?d:void 0,birthday:void 0,phone:void 0,promo:void 0}});async function et(e){var s,t,a,l,i,n;I(!0);let r={nickname:e.nickname,floor:e.floor,email:(null!==(t=e.email)&&void 0!==t?t:L.test(e.email))?e.email:null},{data:d,error:c}=await (0,h.ACF)({path:{user_id:u.id},body:r});if(c){j({description:c.detail,variant:"destructive"}),I(!1),P(!1);return}I(!1),P(!1),B.reset({nickname:null!==(a=e.nickname)&&void 0!==a?a:void 0,email:null!==(l=e.email)&&void 0!==l?l:void 0,floor:null!==(i=e.floor)&&void 0!==i?i:void 0,birthday:e.birthday?new Date(e.birthday):void 0,phone:null!==(n=e.phone)&&void 0!==n?n:void 0,promo:null===(s=e.promo)||void 0===s?void 0:s.toString()})}return(0,l.useEffect)(()=>{var e,s,t;B.reset({nickname:null!==(e=u.nickname)&&void 0!==e?e:void 0,email:null!==(s=u.email)&&void 0!==s?s:void 0,floor:null!==(t=u.floor)&&void 0!==t?t:void 0,birthday:void 0,phone:void 0,promo:void 0})},[u,B]),(0,a.jsxs)("div",{className:"grid gap-12 pt-8",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(Q.ll,{className:"flex flex-row justify-between items-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)(q.Z,{user:u})}),(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("span",{className:"font-semibold text-base",children:null!==(c=null===(i=u.curriculum)||void 0===i?void 0:i.name)&&void 0!==c?c:f("noCurriculum")}),(0,a.jsx)(Z.Q,{isOpened:_,setIsOpened:P,title:f("editCurriculum"),description:(0,a.jsxs)("div",{className:"grid gap-6 mt-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(W._,{children:f("curriculum")}),(0,a.jsxs)(X.Ph,{onValueChange:U,defaultValue:A,children:[(0,a.jsx)(X.i4,{children:(0,a.jsx)(X.ki,{})}),(0,a.jsx)(X.Bw,{side:"top",children:N.map(e=>(0,a.jsx)(X.Ql,{value:e.id,children:(0,a.jsx)("div",{className:"flex items-center flex-row gap-2",children:e.name})},e.id))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,a.jsx)(D.z,{variant:"outline",onClick:E,disabled:R,className:"w-[100px]",children:f("cancel")}),(0,a.jsx)(y.f,{isLoading:R,className:"w-[100px]",type:"button",onClick:O,children:f("edit")})]}),(0,a.jsx)(M.S,{text:f("editUser")}),(0,a.jsx)(S.l0,{...B,children:(0,a.jsx)("form",{onSubmit:B.handleSubmit(et),children:(0,a.jsx)(G,{form:B,setIsOpened:P,isLoading:R,closeDialog:E})})})]}),children:(0,a.jsx)(D.z,{size:"icon",variant:"outline",className:"w-[40px]",children:(0,a.jsx)(V._vs,{className:"h-5 w-5"})})})]})]}),(0,a.jsx)(K.Z,{})]}),(0,a.jsx)(es.q,{user:u,isAdmin:!0}),(0,a.jsx)(ee.X,{user:u,isAdmin:!0}),(0,a.jsx)("div",{className:"grid gap-6",children:(0,a.jsxs)(Q.ll,{className:"flex flex-row w-full",children:[(0,a.jsx)("span",{className:"font-bold",children:f("leftToPay")}),(0,a.jsx)("span",{className:"ml-auto font-semibold",children:p.number((null!=g?g:0)-(null!=v?v:0),"euro")})]})})]})};var ea=t(8994);let el=()=>{let{isTokenExpired:e}=(0,j.d)(),{data:s,isLoading:t,refetch:a}=(0,p.a)({queryKey:["year"],queryFn:h.La1,retry:3,enabled:!e()});return{year:null==s?void 0:s.data,isLoading:t,refetch:a}};var ei=t(5749),en=t(5049),er=t(733),ed=t(7475),ec=t(2030);let eo=e=>{let{seller:s,refreshProduct:t}=e,i=(0,w.T_)("productFormSchema"),n=(0,er.Z)(i),r=(0,w.T_)("addProductAccordionItem"),{toast:d}=(0,C.p)(),[c,o]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),x=(0,f.useSearchParams)().get("sellerId"),{products:p,refetch:j}=v(["cdradmin","cdrrecap"].includes(null!=x?x:"")?null:x),g=p.some(e=>!1===e.needs_validation),{memberships:N}=(0,ed.W)(),b=(0,F.cI)({resolver:(0,z.F)(n),mode:"onBlur",defaultValues:{product_constraints:[],document_constraints:[],data_fields:[],tickets:[],ticket_name:"",ticket_max_use:"1"}});async function y(){m(!0);let{data:e,error:a}=await (0,h.NxE)({path:{seller_id:s.id},body:{name_fr:"Inter\xeat pour l'asso",name_en:"Interest for the club",available_online:!1,needs_validation:!1,product_constraints:[],document_constraints:[]}});if(a){d({description:a.detail,variant:"destructive"}),m(!1),o(!1);return}t(),o(!1),m(!1),b.reset()}async function _(e){m(!0);let a={...e,available_online:"true"===e.available_online,needs_validation:!0,related_membership:e.related_membership?N.find(s=>s.id==e.related_membership):void 0,tickets:e.tickets.map(e=>({...e,expiration:e.expiration.toISOString()}))},{data:l,error:i}=await (0,h.NxE)({path:{seller_id:s.id},body:a});if(i){d({description:i.detail,variant:"destructive"}),m(!1),o(!1);return}let n=e.data_fields;if(l&&n.length){let e=n.map(e=>({...e,product_id:l.id}));await Promise.all(e.map(e=>(0,h.XwI)({body:{name:e.name,can_user_answer:e.can_user_answer},path:{seller_id:s.id,product_id:l.id}})))}t(),o(!1),m(!1),b.reset()}return(0,a.jsxs)("div",{className:"flex flex-1 flex-col py-4 font-medium cursor-pointer ",children:[!g&&(0,a.jsxs)("button",{className:"flex flex-1 items-center py-4 font-medium border-b cursor-pointer",onClick:y,children:[(0,a.jsx)(V.b9W,{className:"w-4 h-4 mr-6"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:r("interest")}),(0,a.jsx)("div",{className:"flex grow"})]}),(0,a.jsx)(Z.Q,{title:r("newProduct"),isFullWidth:!0,description:(0,a.jsx)(S.l0,{...b,children:(0,a.jsx)("form",{onSubmit:b.handleSubmit(_),children:(0,a.jsx)(ec.G,{form:b,setIsOpened:o,isLoading:u,sellerId:s.id})})}),isOpened:c,setIsOpened:o,children:(0,a.jsxs)("div",{className:"flex flex-1 items-center pt-4",children:[(0,a.jsx)(V.b9W,{className:"w-4 h-4 mr-6"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:r("newProduct")}),(0,a.jsx)("div",{className:"flex grow"})]})})]})},eu=e=>{let{status:s,seller:t,products:i,refetchProducts:n}=e,{toast:r}=(0,C.p)(),d=(0,w.T_)("sellerTabContent"),c=(0,f.useSearchParams)(),u=c.get("sellerId"),m=c.get("userId"),{productExpansion:x,setExpandedProducts:h}=(0,ei.g)(),{token:p}=(0,en.u)(),{year:j}=el(),[v,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{void 0===x[t.id]&&t.id===u&&i&&i.length>0&&h(t.id,i.map(e=>e.id))},[x,t.id,h,i,u]);let b=async()=>{try{let e=await fetch("".concat("https://hyperion.myecl.fr","/cdr/sellers/").concat(t.id,"/results/"),{method:"GET",headers:{Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Authorization:"Bearer ".concat(p)}});if(!e.ok)throw Error("Error while downloading");let s=await e.blob(),a=window.URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="CdR_".concat(null==j?void 0:j.year,"_").concat(t.name,".xlsx"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)}catch(e){r({description:e.detail,variant:"destructive"}),g(!1);return}g(!1)};return(0,a.jsxs)(o,{value:t.id,className:"min-w-96 w-full",children:[(0,a.jsx)(Z.Q,{isOpened:v,setIsOpened:g,title:d("exportData"),description:(0,a.jsxs)("div",{className:"grid gap-6 mt-4",children:[(0,a.jsx)("div",{className:"grid gap-2 text-justify",children:d("exportDataExplanation")}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,a.jsx)(D.z,{variant:"outline",onClick:function(e){e.stopPropagation(),g(!1)},className:"w-[100px]",children:d("cancel")}),(0,a.jsx)(D.z,{className:"w-[100px]",type:"button",onClick:b,children:d("export")})]})]})}),(0,a.jsxs)("div",{className:"flex border-b",children:[(0,a.jsx)(eo,{seller:t,refreshProduct:n}),(0,a.jsx)(D.z,{className:"w-[100px] m-4",onClick:()=>g(!0),children:d("export")})]}),i.length>0?(0,a.jsx)(N.UQ,{type:"multiple",value:x[t.id],onValueChange:e=>h(t.id,e),children:i.map(e=>(0,a.jsx)(ea.A,{product:e,sellerId:t.id,userId:m,canAdd:"closed"!==s.status,canEdit:!0,canRemove:!0,canDisable:"closed"!==s.status,refreshProduct:n,isSelectable:"onsite"===s.status,isAdmin:!0},e.id))}):(0,a.jsx)("div",{className:"p-4 border border-gray-200 rounded-md",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:d("noProductFound")})})]})},em=e=>{let{status:s,sellers:t,isAdmin:l}=e,i=(0,f.useSearchParams)(),n=i.get("sellerId"),{products:r,refetch:d}=v(["cdradmin","cdrrecap"].includes(null!=n?n:"")?null:n),c=i.get("userId"),{user:o,refetch:u}=(0,g.a)(c);return"cdradmin"===n&&l?(0,a.jsx)(O,{sellers:t,status:s}):"cdrrecap"===n&&l?o&&(0,a.jsx)(et,{user:o,refetch:u}):t.map(e=>(0,a.jsx)(eu,{seller:e,status:s,products:r,refetchProducts:d},e.id))},ex=e=>{let{status:s,sellers:t,isAdmin:l}=e,i=(0,w.T_)("productPart"),n=(0,x.tv)(),r=(0,f.useSearchParams)(),o=e=>{let s=new URLSearchParams(Array.from(r.entries()));s.set("sellerId",e);let t=s.toString();n.push("admin?".concat(t))};return(0,a.jsxs)(d,{className:"grid w-full grid-flow-row grid-cols-7",children:[t.map(e=>(0,a.jsx)(c,{value:e.id,className:"min-w-18 w-full",onClick:()=>o(e.id),children:e.name},e.id)),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{value:"cdradmin",className:"w-full min-w-18",onClick:()=>o("cdradmin"),children:i("admin")},"cdradmin"),("online"==s.status||"onsite"===s.status)&&(0,a.jsx)(c,{value:"cdrrecap",className:"w-full min-w-18",onClick:()=>o("cdrrecap"),children:i("summary")},"cdrrecap")]})]})},ef=e=>{var s;let{status:t}=e,{isAdmin:i}=(0,u.h)(),{sellers:n}=(0,m.d)(),d=(0,f.useSearchParams)(),c=(0,x.tv)(),o=d.get("sellerId")||(null===(s=n.at(0))||void 0===s?void 0:s.id)||(i?"cdradmin":"");return(0,l.useEffect)(()=>{if(!d.get("sellerId")&&n.length>0&&o){let e=new URLSearchParams(Array.from(d.entries()));e.set("sellerId",o);let s=e.toString();c.replace("admin?".concat(s))}},[o,c,d,n]),(0,a.jsx)("div",{className:"flex items-center justify-center p-6 min-w-96",children:o&&(0,a.jsxs)(r,{defaultValue:o,className:"w-full",children:[(0,a.jsx)(ex,{status:t,sellers:n,isAdmin:i}),(0,a.jsx)(em,{status:t,sellers:n,isAdmin:i})]})})},eh=()=>{let{isTokenExpired:e}=(0,j.d)(),[s,t]=(0,l.useState)([]),{isLoading:a,refetch:i}=(0,p.a)({queryKey:["users"],queryFn:async()=>{let{data:e,error:s}=await (0,h.CTm)();if(s)throw s;return e&&t(e.map(e=>{var s;return{...e,nickname:null!==(s=e.nickname)&&void 0!==s?s:""}})),e},retry:3,enabled:!e(),staleTime:1/0}),{token:n}=(0,en.u)(),r="https://hyperion.myecl.fr".replace("http","ws")+"/cdr/users/ws";return(0,l.useEffect)(()=>{if(a)return;let e=new WebSocket(r);return e.onopen=()=>{e.send(JSON.stringify({token:n}))},e.onmessage=e=>{console.log("WebSocket message received:",e.data);let a=JSON.parse(e.data);if(a.command)switch(a.command){case"NEW_USER":var l;let i=a.data;i.nickname=null!==(l=i.nickname)&&void 0!==l?l:"",s.find(e=>e.id===i.id)?t(s.map(e=>e.id===i.id?i:e)):t([...s,i]);break;case"UPDATE_USER":let n=a.data;t(s.map(e=>e.id===n.id?n:e));break;case"WSStatus":"invalid_token"===a.data.status&&console.log("Invalid token")}},e.onclose=()=>{console.log("WebSocket connection closed")},()=>{e.close()}},[r,a,s,n]),{users:s,isLoading:a,refetch:i}};var ep=t(9174),ej=t(2060),ev=t(653);function eg(e){let{column:s,title:t,className:l}=e,i=(0,w.T_)("dataTableColumnHeader"),r=i(t);return s.getCanSort()?(0,a.jsx)("div",{className:(0,n.cn)("flex items-center space-x-2",l),children:(0,a.jsxs)(ej.h_,{children:[(0,a.jsx)(ej.$F,{asChild:!0,children:(0,a.jsxs)(D.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent -mr-7",children:[(0,a.jsx)("span",{children:r}),"desc"===s.getIsSorted()?(0,a.jsx)(ev.veu,{className:"ml-2 h-4 w-4"}):"asc"===s.getIsSorted()?(0,a.jsx)(ev.Hf3,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(ev.jnn,{className:"ml-2 h-4 w-4"})]})}),(0,a.jsxs)(ej.AW,{align:"start",children:[(0,a.jsxs)(ej.Xi,{onClick:()=>s.toggleSorting(!1),children:[(0,a.jsx)(ev.Hf3,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),i("asc")]}),(0,a.jsxs)(ej.Xi,{onClick:()=>s.toggleSorting(!0),children:[(0,a.jsx)(ev.veu,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),i("desc")]}),(0,a.jsx)(ej.VD,{}),(0,a.jsxs)(ej.Xi,{onClick:()=>s.toggleVisibility(!1),children:[(0,a.jsx)(ev.L52,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),i("hide")]})]})]})}):(0,a.jsx)("div",{className:(0,n.cn)(l),children:r})}var eN=t(1280),eb=t(4525);let ew=(e,s,t)=>{let a=0;if(e.columnFiltersMeta[t]){var l,i;a=(0,eN.S1)(null===(l=e.columnFiltersMeta[t])||void 0===l?void 0:l.itemRank,null===(i=s.columnFiltersMeta[t])||void 0===i?void 0:i.itemRank)}return 0===a?eb.V2.alphanumeric(e,s,t):a},ey=(e,s,t,a)=>{let l=(0,eN.O4)(e.getValue(s),t);return a({itemRank:l}),l.passed},eS=[{accessorKey:"name",header:e=>{let{column:s}=e;return(0,a.jsx)(eg,{column:s,title:"name"})},cell:e=>{let{row:s}=e;return(0,a.jsx)("div",{children:s.getValue("name")})},enableSorting:!1,filterFn:"fuzzy",sortingFn:ew},{accessorKey:"firstname",header:e=>{let{column:s}=e;return(0,a.jsx)(eg,{column:s,title:"firstname"})},cell:e=>{let{row:s}=e;return(0,a.jsx)("div",{children:s.getValue("firstname")})},enableSorting:!1,filterFn:"fuzzy",sortingFn:ew},{accessorKey:"nickname",header:e=>{let{column:s}=e;return(0,a.jsx)(eg,{column:s,title:"nickname"})},cell:e=>{let{row:s}=e;return(0,a.jsx)("div",{children:s.getValue("nickname")})},enableSorting:!1,filterFn:"fuzzy",sortingFn:ew},{accessorKey:"curriculum",header:e=>{let{column:s}=e;return(0,a.jsx)(eg,{column:s,title:"curriculum"})},cell:e=>{let{row:s}=e;return(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)(ep.C,{variant:"outline",children:s.getValue("curriculum")&&""!==s.getValue("curriculum")?s.getValue("curriculum").name:" — "})})},filterFn:(e,s,t)=>e.getValue(s)?t.includes(e.getValue(s).id):t.includes("")}];var e_=t(3804),eC=t(1594);function ek(e){let{table:s}=e,t=(0,w.T_)("dataTablePagination");return(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,a.jsx)("div",{className:"flex-1 text-sm text-muted-foreground min-w-[110px]",children:t("selected",{size:s.getFilteredSelectedRowModel().rows.length})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 min-w-[140px]",children:[(0,a.jsxs)(X.Ph,{value:"".concat(s.getState().pagination.pageSize),onValueChange:e=>{s.setPageSize(Number(e))},children:[(0,a.jsx)(X.i4,{className:"h-8 w-[70px] min-w-[70px]",children:(0,a.jsx)(X.ki,{placeholder:s.getState().pagination.pageSize})}),(0,a.jsx)(X.Bw,{side:"top",children:[10,25,50,100].map(e=>(0,a.jsx)(X.Ql,{value:"".concat(e),children:e},e))})]}),(0,a.jsx)("p",{className:"text-sm font-medium",children:t("byPage")})]}),(0,a.jsx)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:t("pagination",{number:s.getState().pagination.pageIndex+1,total:s.getPageCount()})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(D.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:t("goToFirstPage")}),(0,a.jsx)(ev.kRt,{className:"h-4 w-4"})]}),(0,a.jsxs)(D.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:t("goToPreviousPage")}),(0,a.jsx)(ev.wyc,{className:"h-4 w-4"})]}),(0,a.jsxs)(D.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:t("goToNextPage")}),(0,a.jsx)(ev.XCv,{className:"h-4 w-4"})]}),(0,a.jsxs)(D.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:t("goToLastPage")}),(0,a.jsx)(ev.yr4,{className:"h-4 w-4"})]})]})]})]})}var ez=t(2596),eF=t(641);function eP(e){return e.nickname?"".concat(e.firstname," ").concat(e.name," (").concat(e.nickname,")"):"".concat(e.firstname," ").concat(e.name)}let eV=()=>{let e=(0,w.T_)("addUserWithCurriculum"),{toast:s}=(0,C.p)(),[t,i]=(0,l.useState)(!1);async function n(){if(i(!0),!o||!j){i(!1);return}let{data:e,error:t}=await (0,h.Vum)({path:{user_id:j.id,curriculum_id:o}});if(t){s({description:t.detail,variant:"destructive"}),i(!1),d(!1);return}v(void 0),x(void 0),d(!1),i(!1)}let[r,d]=(0,l.useState)(!1),{curriculums:c}=(0,b.M)(),[o,u]=(0,l.useState)(c.length>0?c[0].id:void 0),[m,x]=(0,l.useState)(void 0),[f,p]=(0,l.useState)([]),[j,v]=(0,l.useState)(void 0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.z,{variant:"secondary",onClick:()=>d(!0),className:"h-8",children:[(0,a.jsx)(V.HQD,{className:"mr-2 h-4"}),e("add")]}),(0,a.jsx)(Z.Q,{isOpened:r,setIsOpened:d,title:e("addCurriculumToUser"),description:(0,a.jsxs)("div",{className:"grid gap-6 mt-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(W._,{children:e("curriculum")}),(0,a.jsxs)(X.Ph,{onValueChange:u,defaultValue:o,children:[(0,a.jsx)(X.i4,{children:(0,a.jsx)(X.ki,{})}),(0,a.jsx)(X.Bw,{side:"top",children:c.map(e=>(0,a.jsx)(X.Ql,{value:e.id,children:(0,a.jsx)("div",{className:"flex items-center flex-row gap-2",children:e.name})},e.id))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(W._,{children:e("user")}),(0,a.jsx)(_.I,{type:"text",placeholder:j?eP(j):e("searchUser"),onChange:e=>{x(e.target.value),v(void 0),(0,h.zSX)({query:{query:e.target.value}}).then(e=>{p(e.data||[])})},value:j?eP(j):m}),(0,a.jsx)(ez.mY,{children:(0,a.jsx)(eF.x,{className:"",children:f.map(e=>(0,a.jsx)(ez.di,{value:e.id,onSelect:s=>{v(e),p([])},children:eP(e)},e.id))})}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,a.jsx)(D.z,{variant:"outline",onClick:()=>d(!1),disabled:t,className:"w-[100px]",children:e("cancel")}),(0,a.jsx)(y.f,{isLoading:t,className:"w-[100px]",type:"button",disabled:!j||!o,onClick:n,children:e("add")})]})]})]})})]})};var eR=t(2749),eI=t(8913);function eT(e){let{column:s,title:t,options:l}=e,i=(0,w.T_)("dataTableFacetedFilter"),r=null==s?void 0:s.getFacetedUniqueValues(),d=new Set(null==s?void 0:s.getFilterValue());return(0,a.jsxs)(eR.J2,{children:[(0,a.jsx)(eR.xo,{asChild:!0,children:(0,a.jsxs)(D.z,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[(0,a.jsx)(eI.Yv7,{className:"mr-2 h-4 w-4"}),t,(null==d?void 0:d.size)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.Z,{orientation:"vertical",className:"mx-2 h-4"}),(0,a.jsx)(ep.C,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:d.size}),(0,a.jsx)("div",{className:"hidden space-x-1 lg:flex",children:d.size>2?(0,a.jsx)(ep.C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:i("selected",{size:d.size})}):l.filter(e=>d.has(e.value)).map(e=>(0,a.jsx)(ep.C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:e.label},e.value))})]})]})}),(0,a.jsx)(eR.yk,{className:"w-[200px] p-0",align:"start",children:(0,a.jsxs)(ez.mY,{children:[(0,a.jsx)(ez.sZ,{placeholder:t}),(0,a.jsxs)(ez.e8,{children:[(0,a.jsx)(ez.rb,{children:i("noResult")}),(0,a.jsx)(ez.fu,{children:l.map(e=>{let t=d.has(e.value);return(0,a.jsxs)(ez.di,{onSelect:()=>{t?d.delete(e.value):d.add(e.value);let a=Array.from(d);null==s||s.setFilterValue(a.length?a:void 0)},children:[(0,a.jsx)("div",{className:(0,n.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,a.jsx)(ev.nQG,{className:(0,n.cn)("h-4 w-4")})}),e.icon&&(0,a.jsx)(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.label}),(null==r?void 0:r.get(e.value))&&(0,a.jsx)("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:r.get(e.value)})]},e.value)})}),d.size>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ez.zz,{}),(0,a.jsx)(ez.fu,{children:(0,a.jsx)(ez.di,{onSelect:()=>null==s?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:i("deleteFilters")})})]})]})]})})]})}var eA=t(7237);function eU(e){let{table:s}=e,t=(0,w.T_)("dataTableViewOptions");return(0,a.jsxs)(ej.h_,{children:[(0,a.jsx)(eA.$F,{children:(0,a.jsxs)(D.z,{variant:"outline",size:"sm",className:"hidden h-8 lg:flex",children:[(0,a.jsx)(ev.hsZ,{className:"mr-2 h-4 w-4"}),t("columns")]})}),(0,a.jsxs)(ej.AW,{align:"end",className:"w-[180px]",children:[(0,a.jsx)(ej.Ju,{children:t("activateColumns")}),(0,a.jsx)(ej.VD,{}),s.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>(0,a.jsx)(ej.bO,{checked:e.getIsVisible(),onCheckedChange:s=>e.toggleVisibility(!!s),children:t(e.id)},e.id))]})]})}function eL(e){let{table:s,globalFilter:t,setGlobalFilter:l}=e,i=(0,w.T_)("dataTableToolbar"),{curriculums:n}=(0,b.M)();return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,a.jsx)(_.I,{placeholder:i("filter"),value:t,onChange:e=>l(e.target.value),className:"h-8 w-[150px] lg:w-[250px]"}),s.getColumn("curriculum")&&(0,a.jsx)(eT,{column:s.getColumn("curriculum"),title:i("curriculum"),options:n.map(e=>({value:e.id,label:e.name})).concat({value:"",label:i("noCurriculum")})}),(0,a.jsx)(eV,{})]}),(0,a.jsx)(eU,{table:s})]})}function eE(e){var s;let{columns:t,data:i}=e,n=(0,w.T_)("dataTable"),r=(0,x.tv)(),d=(0,f.useSearchParams)(),[c,o]=l.useState({}),[u,m]=l.useState({}),[h,p]=l.useState([]),[j,v]=l.useState(""),[g,N]=l.useState([]),b=d.get("userId"),y=(0,eC.b7)({data:i,columns:t,filterFns:{fuzzy:ey},state:{columnFilters:h,globalFilter:j,sorting:g,columnVisibility:u,rowSelection:c},enableRowSelection:!0,onRowSelectionChange:o,onSortingChange:N,onColumnFiltersChange:p,onColumnVisibilityChange:m,getCoreRowModel:(0,eb.sC)(),getFilteredRowModel:(0,eb.vL)(),getPaginationRowModel:(0,eb.G_)(),getSortedRowModel:(0,eb.tj)(),getFacetedRowModel:(0,eb.o6)(),getFacetedUniqueValues:(0,eb.JG)(),globalFilterFn:"fuzzy",onGlobalFilterChange:v});function S(e){y.getSelectedRowModel().rows.length&&o({});let s=e.original.id;if(s===b){let e=new URLSearchParams(Array.from(d.entries()));e.delete("userId");let s=e.toString();r.push("/admin?".concat(s));return}let t=new URLSearchParams(Array.from(d.entries()));t.set("userId",s);let a=t.toString();r.push("/admin?".concat(a)),e.toggleSelected(!0)}return l.useEffect(()=>{if(b&&!y.getIsSomeRowsSelected()){let e=i.findIndex(e=>e.id===b);if(-1!==e){let s=y.getRow(e.toString(),!0);s&&s.toggleSelected(!0)}}},[y.getRowModel().rows,b]),(0,a.jsxs)("div",{className:"space-y-4 w-full",children:[(0,a.jsx)(eL,{table:y,globalFilter:j,setGlobalFilter:v}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(e_.iA,{children:[(0,a.jsx)(e_.xD,{children:y.getHeaderGroups().map(e=>(0,a.jsx)(e_.SC,{children:e.headers.map(e=>(0,a.jsx)(e_.ss,{colSpan:e.colSpan,children:e.isPlaceholder?null:(0,eC.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(e_.RM,{children:(null===(s=y.getRowModel().rows)||void 0===s?void 0:s.length)?(0,a.jsxs)(a.Fragment,{children:[y.getSelectedRowModel().rows.filter(e=>!y.getRowModel().rows.includes(e)).map(e=>(0,a.jsx)(e_.SC,{"data-state":"selected",onClick:()=>S(e),children:e.getVisibleCells().map(e=>(0,a.jsx)(e_.pj,{children:(0,eC.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)),y.getRowModel().rows.map(e=>(0,a.jsx)(e_.SC,{"data-state":e.getIsSelected()&&"selected",onClick:()=>S(e),children:e.getVisibleCells().map(e=>(0,a.jsx)(e_.pj,{children:(0,eC.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))]}):(0,a.jsx)(e_.SC,{children:(0,a.jsx)(e_.pj,{colSpan:t.length,className:"h-24 text-center",children:n("noResult")})})})]})}),(0,a.jsx)(ek,{table:y})]})}let eO=()=>{let{users:e}=eh();return(0,a.jsx)("div",{className:"flex items-center justify-center p-6 min-w-96",children:(0,a.jsx)(eE,{columns:eS,data:e})})};var eZ=t(1905),eM=t(3374);let eq=e=>{let{className:s,...t}=e;return(0,a.jsx)(eM.eh,{className:(0,n.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),...t})},eD=eM.s_,eQ=e=>{let{withHandle:s,className:t,...l}=e;return(0,a.jsx)(eM.OT,{className:(0,n.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...l,children:s&&(0,a.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:(0,a.jsx)(eZ.Z,{className:"h-2.5 w-2.5"})})})};var eW=t(9724),eX=()=>{let{setSize:e,size:s}=(0,eW.R)(),{user:t,isAdmin:i}=(0,u.h)(),{sellers:n}=(0,m.d)(),r=(0,x.tv)(),{status:d}=L();return(0,l.useEffect)(()=>{var e;if(!t)return;let s=null===(e=t.groups)||void 0===e?void 0:e.map(e=>e.id),a=null==s?void 0:s.some(e=>n.some(s=>s.group_id===e));i||a||r.push("/")},[i,r,n,t]),(0,l.useEffect)(()=>{(null==d?void 0:d.status)&&("onsite"===d.status?e(50):e(100))},[d,e]),(0,a.jsx)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 md:gap-8 min-h-[--custom-vh] pb-8 bg-muted/40",children:(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:d&&(0,a.jsx)(Q.Zb,{children:"onsite"===d.status||i&&"online"===d.status?(0,a.jsxs)(eq,{direction:"horizontal",children:[(0,a.jsx)(eD,{defaultSize:100-s,minSize:10,children:(0,a.jsx)(eO,{})}),(0,a.jsx)(eQ,{withHandle:!0}),(0,a.jsx)(eD,{defaultSize:s,minSize:10,onResize:e,children:(0,a.jsx)(ef,{status:d})})]}):(0,a.jsx)(ef,{status:d})})})})}},4770:function(e,s,t){"use strict";t.d(s,{S:function(){return l}});var a=t(7437);t(2265);let l=e=>{let{text:s}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:s})})]})};l.displayName="TextSeparator"},2060:function(e,s,t){"use strict";t.d(s,{$F:function(){return u},AW:function(){return x},Ju:function(){return j},VD:function(){return v},Xi:function(){return f},_x:function(){return m},bO:function(){return h},h_:function(){return o},qB:function(){return p}});var a=t(7437),l=t(2265),i=t(7237),n=t(407),r=t(401),d=t(519),c=t(3448);let o=i.fC,u=i.xz;i.ZA,i.Uv,i.Tr;let m=i.Ee;l.forwardRef((e,s)=>{let{className:t,inset:l,children:r,...d}=e;return(0,a.jsxs)(i.fF,{ref:s,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",t),...d,children:[r,(0,a.jsx)(n.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.tu,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})}).displayName=i.tu.displayName;let x=l.forwardRef((e,s)=>{let{className:t,sideOffset:l=4,...n}=e;return(0,a.jsx)(i.Uv,{children:(0,a.jsx)(i.VY,{ref:s,sideOffset:l,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});x.displayName=i.VY.displayName;let f=l.forwardRef((e,s)=>{let{className:t,inset:l,...n}=e;return(0,a.jsx)(i.ck,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",t),...n})});f.displayName=i.ck.displayName;let h=l.forwardRef((e,s)=>{let{className:t,children:l,checked:n,...d}=e;return(0,a.jsxs)(i.oC,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(r.Z,{className:"h-4 w-4"})})}),l]})});h.displayName=i.oC.displayName;let p=l.forwardRef((e,s)=>{let{className:t,children:l,...n}=e;return(0,a.jsxs)(i.Rk,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),l]})});p.displayName=i.Rk.displayName;let j=l.forwardRef((e,s)=>{let{className:t,inset:l,...n}=e;return(0,a.jsx)(i.__,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",t),...n})});j.displayName=i.__.displayName;let v=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...l})});v.displayName=i.Z0.displayName}},function(e){e.O(0,[310,516,422,299,126,405,763,801,237,834,503,287,971,117,744],function(){return e(e.s=6647)}),_N_E=e.O()}]);