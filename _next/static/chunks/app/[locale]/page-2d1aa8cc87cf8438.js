(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{6959:function(e,l,s){Promise.resolve().then(s.bind(s,1230))},1230:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return ea}});var r=s(7437),a=s(9027),i=s(8706),n=s(7780),t=s(2381),c=s(4291);let d=e=>{let{isOpened:l,setIsOpened:s,title:d,description:o,status:x,callback:u,width:m="w-[100px]"}=e,h=(0,i.T_)("statusDialog");return(0,r.jsx)(c.Vq,{open:l,onOpenChange:s,children:(0,r.jsxs)(c.cZ,{className:"sm:max-w-[600px]",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(c.fK,{children:(0,r.jsxs)(c.$N,{className:"h-20",children:[(0,r.jsx)("div",{className:"mt-16",children:d}),(0,r.jsx)("div",{className:"".concat("SUCCESS"===x?"bg-green-600":"bg-red-600"," w-52 h-52 rounded-full relative -top-52 mx-auto"),children:"SUCCESS"===x?(0,r.jsx)(n.dZ6,{className:"text-white w-32 h-32 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):(0,r.jsx)(n.s5_,{className:"text-white w-32 h-32 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]})}),(0,r.jsx)(a.Be,{children:o}),(0,r.jsx)("div",{className:"flex justify-end mt-2 space-x-4",children:(0,r.jsx)(t.z,{variant:"outline",onClick:function(e){e.stopPropagation(),u(),s(!1)},className:m,children:h("continue")})})]})})};var o=s(9961),x=s(3372),u=s(5049),m=s(9376),h=s(8913);let p=e=>{var l,s;let{onlineSellers:a,canClick:t,showSellerFeatureFlag:c}=e,d=(0,i.T_)("associationPanel"),{userId:p}=(0,u.u)(),f=(0,m.useSearchParams)().get("sellerId")||(null===(l=a.at(0))||void 0===l?void 0:l.id),{purchases:j}=(0,o.$)(p),v=null!==(s=null==j?void 0:j.reduce((e,l)=>e+l.quantity,0))&&void 0!==s?s:0,N=["BDE","BDS","SDeC","WEI"],w=e=>N.includes(e)?d(e):e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mx-auto grid w-full max-w-6xl gap-2 mb-6",children:(0,r.jsx)("h1",{className:"text-3xl font-semibold",children:d("associations")})}),(0,r.jsxs)("nav",{className:"grid gap-4 text-sm text-muted-foreground",children:[(0,r.jsx)(x.rU,{href:"/?sellerId=intro",className:"hover:text-primary ".concat("intro"===f?"font-semibold text-primary":""),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsx)(n.Moc,{className:"h-4 w-4 mr-2"}),d("presentation")]})}),c&&a.map(e=>{var l;let s=null!==(l=j.filter(l=>l.seller.id===e.id).length)&&void 0!==l?l:0;return(0,r.jsx)(x.rU,{href:t?"/?sellerId=".concat(e.id):"#",className:"hover:text-primary ".concat(e.id===f?"font-semibold text-primary":""," ").concat(t?"":"cursor-not-allowed"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[s>0?(0,r.jsx)(n.qk2,{className:"h-4 w-4 mr-2"}):(0,r.jsx)(n.O9r,{className:"h-4 w-4 mr-2"}),w(e.name),s>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"ml-2",children:"\xb7"}),(0,r.jsx)("span",{className:"ml-2",children:s})]})]})},e.id)}),(0,r.jsx)(x.rU,{href:t?"/?sellerId=info":"#",className:"hover:text-primary ".concat("info"===f?"font-semibold text-primary":""," ").concat(t?"":"cursor-not-allowed"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsx)(n.Bge,{className:"h-4 w-4 mr-2"}),d("information")]})}),(0,r.jsx)(x.rU,{href:t?"/?sellerId=recap":"#",className:"hover:text-primary ".concat("recap"===f?"font-semibold text-primary":""," ").concat(t?"":"cursor-not-allowed"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsx)(h.GwR,{className:"h-4 w-4 mr-2"}),d("summary"),v>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"ml-2",children:"\xb7"}),(0,r.jsx)("span",{className:"ml-2",children:v})]})]})})]})]})};var f=s(2339),j=s(16),v=s(3972);let N=()=>{let{isTokenExpired:e}=(0,v.d)(),{data:l,isLoading:s,refetch:r}=(0,j.a)({queryKey:["onlineSellers"],queryFn:f.keh,retry:3,enabled:!e()});return{onlineSellers:(null==l?void 0:l.data)||[],isLoading:s,refetch:r}};var w=s(653);let g=e=>{var l;let{currentSellerId:s,onlineSellers:a}=e,n=(0,i.T_)("pageIndicator"),c=(0,x.tv)(),d=[...a.map(e=>e.id),"info","recap"],o=null==d?void 0:d.findIndex(e=>e===s);return(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-auto",children:[(0,r.jsxs)(t.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>{a&&void 0!==o&&c.push("/?sellerId=".concat(d[o-1]))},disabled:0===o,children:[(0,r.jsx)("span",{className:"sr-only",children:n("previousPage")}),(0,r.jsx)(w.wyc,{className:"h-4 w-4"})]}),d&&void 0!==o&&(0,r.jsxs)("span",{className:"text-sm font-medium text-muted-foreground w-14 flex justify-center",children:[o+1," / ",d.length]}),(0,r.jsxs)(t.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>{d&&void 0!==o&&c.replace("/?sellerId=".concat(d[o+1]))},disabled:o===(null!==(l=null==d?void 0:d.length)&&void 0!==l?l:0)-1,children:[(0,r.jsx)("span",{className:"sr-only",children:n("nextPage")}),(0,r.jsx)(w.XCv,{className:"h-4 w-4"})]})]})};var y=s(9820);let C=()=>{let e=(0,i.T_)("info"),{onlineSellers:l}=N();return(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{children:(0,r.jsx)(y.ll,{children:e("information")})}),(0,r.jsxs)(y.aY,{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(n.Bge,{className:"h-4 w-4 mr-2"}),e("cdrOnsiteTitle")]}),(0,r.jsx)("div",{children:e.rich("cdrOnsiteSubtitle",{mandatory:e=>(0,r.jsx)("span",{className:"font-bold",children:e})})}),(0,r.jsx)("div",{children:e("cdrOnsiteDescription")}),(0,r.jsx)("div",{className:"font-bold",children:e("cdrOnsiteMandatoryWarning")}),(0,r.jsx)("div",{className:"pl-10",children:(0,r.jsxs)("a",{href:"mailto://bde@ec-lyon.fr",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(n.qgt,{className:"h-4 w-4 mr-2"}),"bde@ec-lyon.fr"]})}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(n.MZU,{className:"h-4 w-4 mr-2"}),e("cautionTitle")]}),(0,r.jsx)("div",{children:e.rich("cautionDescription",{payable:e=>(0,r.jsx)("span",{className:"italic",children:e})})}),(0,r.jsx)("div",{children:e("cautionInstructions")}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(n.xOf,{className:"h-4 w-4 mr-2"}),e("facebookTitle")]}),(0,r.jsx)("div",{children:e("facebook")}),(0,r.jsx)("div",{className:"pl-10",children:(0,r.jsxs)("a",{href:"https://www.facebook.com/share/g/1FQ72yPVjk",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(n.iDf,{className:"h-4 w-4 mr-2"}),e("group")]})}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(n.Lto,{className:"h-4 w-4 mr-2"}),e("myECLTitle")]}),(0,r.jsx)("div",{children:e("myECL")}),(0,r.jsxs)("div",{className:"pl-10",children:[(0,r.jsxs)("a",{href:"https://apps.apple.com/fr/app/myecl/id6444443430",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(n.iDf,{className:"h-4 w-4 mr-2"}),e("downloadMyECLiOS")]}),(0,r.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=fr.myecl.titan",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(n.iDf,{className:"h-4 w-4 mr-2"}),e("downloadMyECLAndroid")]})]})]}),(0,r.jsx)(y.eW,{className:"px-6 py-4",children:(0,r.jsx)(g,{currentSellerId:"info",onlineSellers:l})})]})};var b=s(5779),_=s(2265),S=s(9467),k=s(2660),I=s(6858),P=s(3448);let O=_.createContext(null);function E(){let e=_.useContext(O);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let T=_.forwardRef((e,l)=>{let{orientation:s="horizontal",opts:a,setApi:i,plugins:n,className:t,children:c,...d}=e,[o,x]=(0,S.Z)({...a,axis:"horizontal"===s?"x":"y"},n),[u,m]=_.useState(!1),[h,p]=_.useState(!1),f=_.useCallback(e=>{e&&(m(e.canScrollPrev()),p(e.canScrollNext()))},[]),j=_.useCallback(()=>{null==x||x.scrollPrev()},[x]),v=_.useCallback(()=>{null==x||x.scrollNext()},[x]),N=_.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),j()):"ArrowRight"===e.key&&(e.preventDefault(),v())},[j,v]);return _.useEffect(()=>{x&&i&&i(x)},[x,i]),_.useEffect(()=>{if(x)return f(x),x.on("reInit",f),x.on("select",f),()=>{null==x||x.off("select",f)}},[x,f]),(0,r.jsx)(O.Provider,{value:{carouselRef:o,api:x,opts:a,orientation:s||((null==a?void 0:a.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:v,canScrollPrev:u,canScrollNext:h},children:(0,r.jsx)("div",{ref:l,onKeyDownCapture:N,className:(0,P.cn)("relative",t),role:"region","aria-roledescription":"carousel",...d,children:c})})});T.displayName="Carousel";let D=_.forwardRef((e,l)=>{let{className:s,...a}=e,{carouselRef:i,orientation:n}=E();return(0,r.jsx)("div",{ref:i,className:"overflow-hidden",children:(0,r.jsx)("div",{ref:l,className:(0,P.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",s),...a})})});D.displayName="CarouselContent";let F=_.forwardRef((e,l)=>{let{className:s,...a}=e,{orientation:i}=E();return(0,r.jsx)("div",{ref:l,role:"group","aria-roledescription":"slide",className:(0,P.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===i?"pl-4":"pt-4",s),...a})});F.displayName="CarouselItem",_.forwardRef((e,l)=>{let{className:s,variant:a="outline",size:i="icon",...n}=e,{orientation:c,scrollPrev:d,canScrollPrev:o}=E();return(0,r.jsxs)(t.z,{ref:l,variant:a,size:i,className:(0,P.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!o,onClick:d,...n,children:[(0,r.jsx)(k.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",_.forwardRef((e,l)=>{let{className:s,variant:a="outline",size:i="icon",...n}=e,{orientation:c,scrollNext:d,canScrollNext:o}=E();return(0,r.jsxs)(t.z,{ref:l,variant:a,size:i,className:(0,P.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!o,onClick:d,...n,children:[(0,r.jsx)(I.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext";var z=s(8728),B=s(5095),U=s(9116),Z=s(423),q=s(9174),L=s(5291),R=s(8752);let M=e=>{var l,s;let{user:a,refetch:n}=e,{toast:t}=(0,R.p)(),c=(0,i.T_)("introCarouselItem"),{scrollNext:d}=E(),{curriculums:o}=(0,z.M)(),{onlineSellers:u}=N(),m=(0,x.tv)(),[h,p]=(0,_.useState)(!1),[j,v]=(0,_.useState)(0),w=[c("begin"),c("validate")],[g,y]=(0,_.useState)(null===(l=a.curriculum)||void 0===l?void 0:l.id),C=0===j||1===j&&g&&g!==(null===(s=a.curriculum)||void 0===s?void 0:s.id),b=[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("span",{children:c("welcome")}),(0,r.jsx)("span",{className:"text-justify",children:c("description")}),(0,r.jsxs)("span",{className:"text-balance",children:[c("contact"),(0,r.jsx)("a",{href:"mailto://bde@ec-lyon.fr",className:"whitespace-pre",children:"bde@ec-lyon.fr"})]})]},"intro"),(0,r.jsxs)("div",{className:"h-full gap-4 flex flex-col",children:[(0,r.jsx)("span",{children:c("selectCurriculum")}),(0,r.jsxs)(L.Ph,{value:g,onValueChange:y,children:[(0,r.jsx)(L.i4,{className:"w-[300px] m-auto",children:(0,r.jsx)(L.ki,{})}),(0,r.jsx)(L.Bw,{children:(0,r.jsx)(L.DI,{children:o.map(e=>(0,r.jsx)(L.Ql,{value:e.id,children:(0,r.jsx)(q.C,{variant:"secondary",children:e.name})},e.id))})})]})]},"curriculum")];async function S(){if(p(!0),!g){p(!1);return}let{data:e,error:l}=await (0,f.Vum)({path:{user_id:a.id,curriculum_id:g}});if(l){t({description:l.detail,variant:"destructive"}),p(!1);return}n(),p(!1)}async function k(){if(C){var e;if(1===j){await S();let e=u.length>0?u[0]:void 0;e&&m.push("?sellerId=".concat(e.id))}if(0!==j||(null===(e=a.curriculum)||void 0===e?void 0:e.id)){let e=u.length>0?u[0]:void 0;e&&m.push("?sellerId=".concat(e.id))}else v(j+1),d()}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D,{children:b.map((e,l)=>(0,r.jsx)(F,{children:e},l))}),(0,r.jsx)("div",{className:"pb-6 pt-10 flex justify-center",children:(0,r.jsx)(Z.f,{size:"lg",className:"w-[160px]",onClick:k,isLoading:h,children:(0,r.jsx)(B.M,{initial:!1,mode:"wait",children:(0,r.jsx)(U.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:w[j]},j)})})})]})},A=()=>{let e=(0,i.T_)("introPanel"),{userId:l}=(0,u.u)(),{user:s,refetch:a}=(0,b.a)(l);return(0,r.jsxs)(y.Zb,{className:"max-md:w-auto",children:[(0,r.jsx)(y.Ol,{children:(0,r.jsx)(y.ll,{children:e("presentation")})}),(0,r.jsx)(y.aY,{className:"space-y-2",children:(0,r.jsx)(T,{opts:{watchDrag:!1},children:s&&(0,r.jsx)(M,{user:s,refetch:a})})})]})},G=e=>{let{isTokenExpired:l}=(0,v.d)(),{data:s,isLoading:r,refetch:a}=(0,j.a)({queryKey:["onlineSellerProducts",null!=e?e:""],queryFn:()=>(0,f.vsp)({path:{seller_id:e}}),retry:3,enabled:!l()&&!!e});return{onlineProducts:(null==s?void 0:s.data)||[],isLoading:r,refetch:a}};var W=s(5749),K=s(3138),V=s(2549);let Y=()=>{var e;let l=(0,i.T_)("productPanel"),{onlineSellers:s}=N(),a=(0,m.useSearchParams)().get("sellerId")||(null==s?void 0:null===(e=s.at(0))||void 0===e?void 0:e.id)||"",{onlineProducts:n}=G(a),t=null==s?void 0:s.find(e=>e.id===a),{productExpansion:c,setExpandedProducts:d}=(0,W.g)(),{userId:o}=(0,u.u)(),{user:x}=(0,b.a)(o);(0,_.useEffect)(()=>{void 0===c[a]&&(null==t?void 0:t.id)===a&&n&&n.length>0&&d(a,n.map(e=>e.id))},[c,a,d,n,null==t?void 0:t.id]);let h=n.filter(e=>{var l,s,r;return null!==(r=null==e?void 0:null===(s=e.variants)||void 0===s?void 0:null===(l=s.filter(e=>{var l,s,r;return null!==(r=null===(s=e.allowed_curriculum)||void 0===s?void 0:null===(l=s.filter(e=>{var l;return e.id===(null==x?void 0:null===(l=x.curriculum)||void 0===l?void 0:l.id)}))||void 0===l?void 0:l.length)&&void 0!==r&&r}))||void 0===l?void 0:l.length)&&void 0!==r&&r});return(0,r.jsx)("div",{className:"grid gap-6",children:(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{children:(0,r.jsx)(y.ll,{children:t?t.name:l("noSellerFound")})}),(0,r.jsx)(y.aY,{children:h.length>0?(0,r.jsx)(V.UQ,{type:"multiple",value:c[a],onValueChange:e=>d(a,e),children:h.map(e=>(0,r.jsx)(K.A,{product:e,sellerId:(null==t?void 0:t.id)||"",userId:o,showDescription:!0,isSelectable:!0,refreshProduct:()=>{}},e.id))}):(0,r.jsx)("h3",{className:"text-lg font-semibold",children:l("noProductFound")})}),(0,r.jsx)(y.eW,{className:"px-6 py-4",children:(0,r.jsx)(g,{currentSellerId:a,onlineSellers:s})})]})})};var $=s(1945),Q=s(915),H=s(3156);let X=()=>{let{data:e,isLoading:l,refetch:s}=(0,j.a)({queryKey:["paymentUrl"],queryFn:f.GTB,retry:3,enabled:!1});return{paymentUrl:null==e?void 0:e.data,isLoading:l,refetch:s}},J=e=>{let{isLoading:l,onClick:s}=e,a=(0,i.T_)("HelloAssoButton");return(0,r.jsxs)(t.z,{className:"border-[#3d33a6] group-hover:border-[#3d33a6] p-0 group",variant:"outline",disabled:l,onClick:s,children:[(0,r.jsxs)("svg",{width:"46",viewBox:"20 0 40 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"pl-3 w-14",children:[(0,r.jsxs)("g",{"clip-path":"url(#clip0_16_2460)",children:[(0,r.jsx)("path",{d:"M28.7465 34.0888C24.2637 28.8367 27.2522 15.5602 29.1589 15.5602C25.477 15.4863 19.2669 17.9752 20.1037 26.856C20.428 29.479 21.4172 31.9676 22.9717 34.071C24.5263 36.1745 26.5912 37.8184 28.9584 38.8373C31.3257 39.8562 33.9116 40.2139 36.4558 39.8746C38.9999 39.5352 41.4123 38.5107 43.4499 36.9043C36.409 42.0947 31.6364 37.468 28.7465 34.0888Z",fill:"url(#paint0_linear_16_2460)"}),(0,r.jsx)("path",{d:"M45.1931 25.1679C41.4695 32.8474 30.0474 36.0787 28.7563 34.1011C30.9888 37.4433 36.5265 42.1101 43.5046 36.8734C45.5247 35.2573 47.0962 33.1214 48.0613 30.6806C49.0264 28.2397 49.3509 25.58 49.0022 22.9689C48.6536 20.3577 47.6441 17.8872 46.0752 15.8059C44.5063 13.7245 42.4334 12.1056 40.0649 11.1121C47.9515 14.7223 47.1536 21.1234 45.1931 25.1679Z",fill:"url(#paint1_linear_16_2460)"}),(0,r.jsx)("path",{d:"M29.1602 15.5613C37.2292 14.671 46.3531 23.1852 45.1936 25.169C47.4648 21.2015 47.9848 14.7234 40.1131 11.1132C37.7418 10.118 35.1584 9.78278 32.6218 10.1412C30.0853 10.4996 27.6847 11.5391 25.6607 13.1554C23.6368 14.7716 22.0606 16.9079 21.0902 19.35C20.1199 21.7922 19.7894 24.4543 20.1319 27.0696C19.5611 18.2381 26.1478 15.8939 29.1602 15.5613Z",fill:"url(#paint2_linear_16_2460)"})]}),(0,r.jsxs)("linearGradient",{id:"paint0_linear_16_2460",x1:"23.1041",y1:"17.5615",x2:"36.9885",y2:"40.8976",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#3B8964"}),(0,r.jsx)("stop",{offset:"0.25","stop-color":"#5ABF8C"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_16_2460",x1:"33.6387",y1:"38.5088",x2:"48.0033",y2:"15.916",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#803471"}),(0,r.jsx)("stop",{offset:"0.21","stop-color":"#B34F9E"})]}),(0,r.jsxs)("linearGradient",{id:"paint2_linear_16_2460",x1:"22.2234",y1:"16.1265",x2:"45.6611",y2:"24.404",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.6","stop-color":"#F99C2E"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#C57538"})]}),(0,r.jsx)("clipPath",{id:"clip0_16_2460",children:(0,r.jsx)("rect",{width:"30",height:"30",fill:"white",transform:"translate(20 10)"})}),(0,r.jsx)("clipPath",{id:"clip1_16_2460",children:(0,r.jsx)("rect",{width:"72",height:"22",fill:"white",transform:"translate(173 14)"})})]}),(0,r.jsx)("span",{className:"text-white bg-[#4C40CF] group-hover:bg-[#3d33a6] h-full justify-center flex items-center rounded-r-sm w-[165px]",children:l?(0,r.jsx)(w.BGW,{className:"h-4 w-4 animate-spin"}):a.rich("payWithHA",{ha:e=>(0,r.jsx)("span",{className:"font-bold ml-1",children:e})})})]})},ee=e=>{let{isOpened:l,setIsOpened:s,isLoading:n,title:d,description:o,validateLabel:x,callback:u,width:m="w-[100px]",customButton:h}=e,p=(0,i.T_)("warningDialog");return(0,r.jsx)(c.Vq,{open:l,onOpenChange:s,children:(0,r.jsxs)(c.cZ,{className:"sm:max-w-[600px]",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(c.fK,{children:(0,r.jsx)(c.$N,{children:d})}),(0,r.jsx)(a.Be,{children:o}),(0,r.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,r.jsx)(t.z,{variant:"outline",onClick:function(e){e.stopPropagation(),s(!1)},disabled:n,className:m,children:p("cancel")}),null!=h?h:(0,r.jsx)(Z.f,{isLoading:n,onClick:function(e){e.stopPropagation(),u&&u()},className:m,children:x})]})]})})},el=()=>{let e=(0,i.T_)("paymentButton"),[l,s]=(0,_.useState)(!1),{paymentUrl:a,isLoading:n,refetch:c}=X(),d=(0,x.tv)();return!n&&a&&d.push(a.url),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee,{isOpened:l,setIsOpened:s,isLoading:n,title:e("pay"),description:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-2 font-semibold",children:e("title")}),(0,r.jsx)("p",{children:e("description")})]}),customButton:(0,r.jsx)(J,{isLoading:n,onClick:()=>c()})}),(0,r.jsx)(t.z,{className:"col-span-4 ml-auto w-[100px]",onClick:e=>{s(!0)},children:e("pay")})]})},es=()=>{let e=(0,i.T_)("recap"),l=(0,i.Gb)(),{userId:s}=(0,u.u)(),{user:a}=(0,b.a)(s),{purchases:n,total:t}=(0,o.$)(s),{total:c}=(0,$.T)(s),{onlineSellers:d}=N(),x=(t||0)-(c||0);return(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{}),(0,r.jsx)(y.aY,{className:"space-y-2",children:a&&(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)(H.q,{user:a}),(0,r.jsx)(Q.X,{user:a}),(0,r.jsxs)("div",{className:"flex items-center justify-around",children:[x>=0&&(0,r.jsxs)("div",{className:"italic",children:[e("remainingToPay")," ",l.number(x,"euro")]}),n.length>0&&x>0&&(0,r.jsx)(el,{})]})]})}),(0,r.jsx)(y.eW,{className:"px-6 py-4 ",children:(0,r.jsx)(g,{currentSellerId:"recap",onlineSellers:d})})]})},er=e=>{let{showSellerFeatureFlag:l}=e,s=(0,m.useSearchParams)().get("sellerId")||"intro";return"intro"===s?(0,r.jsx)(A,{}):"info"===s?(0,r.jsx)(C,{}):"recap"===s?(0,r.jsx)(es,{}):l&&(0,r.jsx)(Y,{})};function ea(){let{userId:e}=(0,u.u)(),{user:l,refetch:s}=(0,b.a)(e),a=(0,x.tv)(),n=(0,m.useSearchParams)().get("code"),{onlineSellers:t}=N(),[c,o]=(0,_.useState)(!0),h=(0,i.T_)("page");return(0,r.jsxs)("div",{className:"flex min-h-[--custom-vh] w-full flex-col",children:["succeeded"===n&&(0,r.jsx)(d,{isOpened:c,setIsOpened:o,title:h("succeededTitle"),description:h("succeededDescription"),status:"SUCCESS",callback:()=>{s(),o(!1),a.replace("/?sellerId=recap")}}),"refused"===n&&(0,r.jsx)(d,{isOpened:c,setIsOpened:o,title:h("refusedTitle"),description:h("refusedDescription"),status:"ERROR",callback:()=>{o(!1),a.replace("/?sellerId=recap")}}),(0,r.jsx)("main",{className:"flex min-h-[calc(--custom-vh_-_theme(spacing.32))] flex-1 flex-col gap-4 bg-muted/40 p-4 md:gap-8 md:p-10",children:t&&(0,r.jsxs)("div",{className:"mx-auto grid w-full max-w-6xl items-start gap-6 md:grid-cols-[180px_1fr] lg:grid-cols-[250px_1fr]",children:[(0,r.jsx)(p,{canClick:!!(null==l?void 0:l.curriculum),onlineSellers:t,showSellerFeatureFlag:!0}),l&&(0,r.jsx)(er,{showSellerFeatureFlag:!0})]})}),(0,r.jsx)("footer",{className:"py-6 md:px-8 md:py-0 border-t-2",children:(0,r.jsx)("div",{className:"w-full max-w-screen-xl mx-auto p-4 md:py-8",children:(0,r.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between",children:[(0,r.jsx)("p",{className:"text-balance text-sm leading-loose text-muted-foreground",children:h("madeByECLAIR")}),(0,r.jsx)("span",{className:"block text-sm text-gray-500 sm:text-center dark:text-gray-400",children:h.rich("license",{date:()=>new Date().getFullYear(),eclair:e=>(0,r.jsx)("a",{href:"https://www.eclair.ec-lyon.fr/",className:"font-medium underline underline-offset-4",children:e})})})]})})})]})}}},function(e){e.O(0,[310,516,422,299,126,468,763,211,666,364,971,117,744],function(){return e(e.s=6959)}),_N_E=e.O()}]);