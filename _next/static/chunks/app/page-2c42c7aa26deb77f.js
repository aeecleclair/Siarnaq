(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3258:function(e,l,s){Promise.resolve().then(s.bind(s,9617))},9617:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return ea}});var r=s(7437),a=s(3304),i=s(1109),n=s(9733),t=s(4662);let c=e=>{let{isOpened:l,setIsOpened:s,title:c,description:d,status:o,callback:x,width:u="w-[100px]"}=e;return(0,r.jsx)(t.Vq,{open:l,onOpenChange:s,children:(0,r.jsxs)(t.cZ,{className:"sm:max-w-[600px]",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(t.fK,{children:(0,r.jsxs)(t.$N,{className:"h-20",children:[(0,r.jsx)("div",{className:"mt-16",children:c}),(0,r.jsx)("div",{className:"".concat("SUCCESS"===o?"bg-green-600":"bg-red-600"," w-52 h-52 rounded-full relative -top-52 mx-auto"),children:"SUCCESS"===o?(0,r.jsx)(i.dZ6,{className:"text-white w-32 h-32 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):(0,r.jsx)(i.s5_,{className:"text-white w-32 h-32 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]})}),(0,r.jsx)(a.Be,{children:d}),(0,r.jsx)("div",{className:"flex justify-end mt-2 space-x-4",children:(0,r.jsx)(n.z,{variant:"outline",onClick:function(e){e.stopPropagation(),x(),s(!1)},className:u,children:"Continuer"})})]})})};var d=s(9196),o=s(7061),x=s(8087),u=s(7138),m=s(6463),h=s(4008);let p=e=>{var l,s;let{onlineSellers:a,canClick:n}=e,t=(0,x.useTranslations)("AssociationPanel"),{userId:c}=(0,o.u)(),p=(0,m.useSearchParams)().get("sellerId")||(null===(l=a.at(0))||void 0===l?void 0:l.id),{purchases:f}=(0,d.$)(c),j=null!==(s=null==f?void 0:f.reduce((e,l)=>e+l.quantity,0))&&void 0!==s?s:0;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mx-auto grid w-full max-w-6xl gap-2 mb-6",children:(0,r.jsx)("h1",{className:"text-3xl font-semibold",children:t("associations")})}),(0,r.jsxs)("nav",{className:"grid gap-4 text-sm text-muted-foreground",children:[(0,r.jsx)(u.default,{href:"/?sellerId=intro",className:"hover:text-primary ".concat("intro"===p?"font-semibold text-primary":""),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsx)(i.Moc,{className:"h-4 w-4 mr-2"}),t("presentation")]})}),a.map(e=>{var l;let s=null!==(l=f.filter(l=>l.seller.id===e.id).length)&&void 0!==l?l:0;return(0,r.jsx)(u.default,{href:n?"/?sellerId=".concat(e.id):"#",className:"hover:text-primary ".concat(e.id===p?"font-semibold text-primary":""," ").concat(n?"":"cursor-not-allowed"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[s>0?(0,r.jsx)(i.qk2,{className:"h-4 w-4 mr-2"}):(0,r.jsx)(i.O9r,{className:"h-4 w-4 mr-2"}),e.name,s>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"ml-2",children:"\xb7"}),(0,r.jsx)("span",{className:"ml-2",children:s})]})]})},e.id)}),(0,r.jsx)(u.default,{href:n?"/?sellerId=info":"#",className:"hover:text-primary ".concat("info"===p?"font-semibold text-primary":""," ").concat(n?"":"cursor-not-allowed"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsx)(i.Bge,{className:"h-4 w-4 mr-2"}),t("information")]})}),(0,r.jsx)(u.default,{href:n?"/?sellerId=recap":"#",className:"hover:text-primary ".concat("recap"===p?"font-semibold text-primary":""," ").concat(n?"":"cursor-not-allowed"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsx)(h.GwR,{className:"h-4 w-4 mr-2"}),t("summary"),j>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"ml-2",children:"\xb7"}),(0,r.jsx)("span",{className:"ml-2",children:j})]})]})})]})]})};var f=s(692),j=s(5355),v=s(7948);let N=()=>{let{isTokenExpired:e}=(0,v.d)(),{data:l,isLoading:s,refetch:r}=(0,j.a)({queryKey:["onlineSellers"],queryFn:f.keh,retry:3,enabled:!e()});return{onlineSellers:(null==l?void 0:l.data)||[],isLoading:s,refetch:r}};var w=s(4867);let y=e=>{var l;let{currentSellerId:s,onlineSellers:a}=e,i=(0,m.useRouter)(),t=[...a.map(e=>e.id),"info","recap"],c=null==t?void 0:t.findIndex(e=>e===s);return(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-auto",children:[(0,r.jsxs)(n.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>{a&&void 0!==c&&i.push("/?sellerId=".concat(t[c-1]))},disabled:0===c,children:[(0,r.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,r.jsx)(w.wyc,{className:"h-4 w-4"})]}),t&&void 0!==c&&(0,r.jsxs)("span",{className:"text-sm font-medium text-muted-foreground w-14 flex justify-center",children:[c+1," / ",t.length]}),(0,r.jsxs)(n.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>{t&&void 0!==c&&i.replace("/?sellerId=".concat(t[c+1]))},disabled:c===(null!==(l=null==t?void 0:t.length)&&void 0!==l?l:0)-1,children:[(0,r.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,r.jsx)(w.XCv,{className:"h-4 w-4"})]})]})};var g=s(8185);let C=()=>{let e=(0,x.useTranslations)("Info"),{onlineSellers:l}=N();return(0,r.jsxs)(g.Zb,{children:[(0,r.jsx)(g.Ol,{children:(0,r.jsx)(g.ll,{children:e("information")})}),(0,r.jsxs)(g.aY,{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(i.Bge,{className:"h-4 w-4 mr-2"}),e("cdrPhysiqueTitle")]}),(0,r.jsx)("div",{children:e("cdrPhysiqueSubtitle")}),(0,r.jsx)("div",{children:e("cdrPhysiqueDescription")}),(0,r.jsx)("div",{className:"font-bold",children:e("cdrPhysiqueMandatoryWarning")}),(0,r.jsx)("div",{className:"pl-10",children:(0,r.jsxs)("a",{href:"mailto://bde@ec-lyon.fr",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(i.qgt,{className:"h-4 w-4 mr-2"}),"bde@ec-lyon.fr"]})}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(i.MZU,{className:"h-4 w-4 mr-2"}),e("cautionTitle")]}),(0,r.jsxs)("div",{children:[e("cautionDescription")," \xab",(0,r.jsx)("span",{className:"italic",children:" AEECL - WEI "})," \xbb."]}),(0,r.jsx)("div",{children:e("cautionInstructions")}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(i.xOf,{className:"h-4 w-4 mr-2"}),e("facebookTitle")]}),(0,r.jsx)("div",{children:e("facebook")}),(0,r.jsx)("div",{className:"pl-10",children:(0,r.jsxs)("a",{href:"https://www.facebook.com/groups/admis2024",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(i.iDf,{className:"h-4 w-4 mr-2"}),"Groupe des Admis 2024"]})}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(i.Lto,{className:"h-4 w-4 mr-2"}),e("myECLTitle")]}),(0,r.jsx)("div",{children:e("myECL")}),(0,r.jsxs)("div",{className:"pl-10",children:[(0,r.jsxs)("a",{href:"https://apps.apple.com/fr/app/myecl/id6444443430",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(i.iDf,{className:"h-4 w-4 mr-2"}),e("downloadMyECLiOS")]}),(0,r.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=fr.myecl.titan",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(i.iDf,{className:"h-4 w-4 mr-2"}),e("downloadMyECLAndroid")]})]}),(0,r.jsxs)("h3",{className:"text-lg font-semibold flex flex-row items-center pt-5",children:[(0,r.jsx)(i.TSD,{className:"h-4 w-4 mr-2"}),e("elementTitle")]}),(0,r.jsx)("div",{children:e("element")}),(0,r.jsx)("div",{className:"pl-10",children:(0,r.jsxs)("ol",{className:"list-decimal",children:[(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"https://element.io/download",className:"font-medium hover:underline underline-offset-4 flex flex-row items-center",children:[(0,r.jsx)(i.iDf,{className:"h-4 w-4 mr-1"}),e("elementStep1")]})}),(0,r.jsx)("li",{children:e("elementStep2")}),(0,r.jsxs)("li",{children:[e("elementStep3")," ",(0,r.jsx)("code",{children:"myecl.fr"})]}),(0,r.jsx)("li",{children:e("elementStep4")})]})})]}),(0,r.jsx)(g.eW,{className:"px-6 py-4",children:(0,r.jsx)(y,{currentSellerId:"info",onlineSellers:l})})]})};var b=s(7042),S=s(2265),_=s(4300),k=s(1266),P=s(1976),I=s(9354);let E=S.createContext(null);function O(){let e=S.useContext(E);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let z=S.forwardRef((e,l)=>{let{orientation:s="horizontal",opts:a,setApi:i,plugins:n,className:t,children:c,...d}=e,[o,x]=(0,_.Z)({...a,axis:"horizontal"===s?"x":"y"},n),[u,m]=S.useState(!1),[h,p]=S.useState(!1),f=S.useCallback(e=>{e&&(m(e.canScrollPrev()),p(e.canScrollNext()))},[]),j=S.useCallback(()=>{null==x||x.scrollPrev()},[x]),v=S.useCallback(()=>{null==x||x.scrollNext()},[x]),N=S.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),j()):"ArrowRight"===e.key&&(e.preventDefault(),v())},[j,v]);return S.useEffect(()=>{x&&i&&i(x)},[x,i]),S.useEffect(()=>{if(x)return f(x),x.on("reInit",f),x.on("select",f),()=>{null==x||x.off("select",f)}},[x,f]),(0,r.jsx)(E.Provider,{value:{carouselRef:o,api:x,opts:a,orientation:s||((null==a?void 0:a.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:v,canScrollPrev:u,canScrollNext:h},children:(0,r.jsx)("div",{ref:l,onKeyDownCapture:N,className:(0,I.cn)("relative",t),role:"region","aria-roledescription":"carousel",...d,children:c})})});z.displayName="Carousel";let R=S.forwardRef((e,l)=>{let{className:s,...a}=e,{carouselRef:i,orientation:n}=O();return(0,r.jsx)("div",{ref:i,className:"overflow-hidden",children:(0,r.jsx)("div",{ref:l,className:(0,I.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",s),...a})})});R.displayName="CarouselContent";let T=S.forwardRef((e,l)=>{let{className:s,...a}=e,{orientation:i}=O();return(0,r.jsx)("div",{ref:l,role:"group","aria-roledescription":"slide",className:(0,I.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===i?"pl-4":"pt-4",s),...a})});T.displayName="CarouselItem",S.forwardRef((e,l)=>{let{className:s,variant:a="outline",size:i="icon",...t}=e,{orientation:c,scrollPrev:d,canScrollPrev:o}=O();return(0,r.jsxs)(n.z,{ref:l,variant:a,size:i,className:(0,I.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!o,onClick:d,...t,children:[(0,r.jsx)(k.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",S.forwardRef((e,l)=>{let{className:s,variant:a="outline",size:i="icon",...t}=e,{orientation:c,scrollNext:d,canScrollNext:o}=O();return(0,r.jsxs)(n.z,{ref:l,variant:a,size:i,className:(0,I.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!o,onClick:d,...t,children:[(0,r.jsx)(P.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext";var q=s(6943),D=s(5127),F=s(4599),Z=s(4032),B=s(9055),L=s(9888),U=s(8068);let A=e=>{var l,s;let{user:a,refetch:i}=e,{toast:n}=(0,U.pm)(),t=(0,x.useTranslations)("IntroCarouselItem"),{scrollNext:c}=O(),{curriculums:d}=(0,q.M)(),{onlineSellers:o}=N(),u=(0,m.useRouter)(),[h,p]=(0,S.useState)(!1),[j,v]=(0,S.useState)(0),w=[t("begin"),t("validate")],[y,g]=(0,S.useState)(null===(l=a.curriculum)||void 0===l?void 0:l.id),C=0===j||1===j&&y&&y!==(null===(s=a.curriculum)||void 0===s?void 0:s.id),b=[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("span",{children:t("description")}),(0,r.jsxs)("span",{children:[t("contact")," ",(0,r.jsx)("a",{href:"mailto://bde@ec-lyon.fr",children:"bde@ec-lyon.fr"})]})]},"intro"),(0,r.jsxs)("div",{className:"h-full gap-4 flex flex-col",children:[(0,r.jsx)("span",{children:t("selectCurriculum")}),(0,r.jsxs)(L.Ph,{value:y,onValueChange:g,children:[(0,r.jsx)(L.i4,{className:"w-[300px] m-auto",children:(0,r.jsx)(L.ki,{})}),(0,r.jsx)(L.Bw,{children:(0,r.jsx)(L.DI,{children:d.map(e=>(0,r.jsx)(L.Ql,{value:e.id,children:(0,r.jsx)(B.C,{variant:"secondary",children:e.name})},e.id))})})]})]},"curriculum")];async function _(){if(p(!0),!y){p(!1);return}let{data:e,error:l}=await (0,f.Vum)({path:{user_id:a.id,curriculum_id:y}});if(l){n({title:"Error",description:l.detail,variant:"destructive"}),p(!1);return}i(),p(!1)}async function k(){if(C){var e;if(1===j){await _();let e=o.length>0?o[0]:void 0;e&&u.push("?sellerId=".concat(e.id))}if(0!==j||(null===(e=a.curriculum)||void 0===e?void 0:e.id)){let e=o.length>0?o[0]:void 0;e&&u.push("?sellerId=".concat(e.id))}else v(j+1),c()}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R,{children:b.map((e,l)=>(0,r.jsx)(T,{children:e},l))}),(0,r.jsx)("div",{className:"pb-6 pt-10 flex justify-center",children:(0,r.jsx)(Z.f,{size:"lg",className:"w-[160px]",onClick:k,isLoading:h,children:(0,r.jsx)(D.M,{initial:!1,mode:"wait",children:(0,r.jsx)(F.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:w[j]},j)})})})]})},M=()=>{let e=(0,x.useTranslations)("IntroPanel"),{userId:l}=(0,o.u)(),{user:s,refetch:a}=(0,b.a)(l);return(0,r.jsxs)(g.Zb,{className:"max-md:w-auto",children:[(0,r.jsx)(g.Ol,{children:(0,r.jsx)(g.ll,{children:e("presentation")})}),(0,r.jsx)(g.aY,{className:"space-y-2",children:(0,r.jsx)(z,{opts:{watchDrag:!1},children:s&&(0,r.jsx)(A,{user:s,refetch:a})})})]})},G=e=>{let{isTokenExpired:l}=(0,v.d)(),{data:s,isLoading:r,refetch:a}=(0,j.a)({queryKey:["onlineSellerProducts",null!=e?e:""],queryFn:()=>(0,f.vsp)({path:{seller_id:e}}),retry:3,enabled:!l()&&!!e});return{onlineProducts:(null==s?void 0:s.data)||[],isLoading:r,refetch:a}};var V=s(7911),K=s(2018),W=s(5265);let Y=()=>{var e;let l=(0,x.useTranslations)("ProductPanel"),{onlineSellers:s}=N(),a=(0,m.useSearchParams)().get("sellerId")||(null==s?void 0:null===(e=s.at(0))||void 0===e?void 0:e.id)||"",{onlineProducts:i}=G(a),n=null==s?void 0:s.find(e=>e.id===a),{productExpansion:t,setExpandedProducts:c}=(0,V.g)(),{userId:d}=(0,o.u)(),{user:u}=(0,b.a)(d);(0,S.useEffect)(()=>{void 0===t[a]&&(null==n?void 0:n.id)===a&&i&&i.length>0&&c(a,i.map(e=>e.id))},[t,a,c,i,null==n?void 0:n.id]);let h=i.filter(e=>{var l,s,r;return null!==(r=null==e?void 0:null===(s=e.variants)||void 0===s?void 0:null===(l=s.filter(e=>{var l,s,r;return null!==(r=null===(s=e.allowed_curriculum)||void 0===s?void 0:null===(l=s.filter(e=>{var l;return e.id===(null==u?void 0:null===(l=u.curriculum)||void 0===l?void 0:l.id)}))||void 0===l?void 0:l.length)&&void 0!==r&&r}))||void 0===l?void 0:l.length)&&void 0!==r&&r});return(0,r.jsx)("div",{className:"grid gap-6",children:(0,r.jsxs)(g.Zb,{children:[(0,r.jsx)(g.Ol,{children:(0,r.jsx)(g.ll,{children:n?n.name:"No seller found"})}),(0,r.jsx)(g.aY,{children:h.length>0?(0,r.jsx)(W.UQ,{type:"multiple",value:t[a],onValueChange:e=>c(a,e),children:h.map(e=>(0,r.jsx)(K.A,{product:e,sellerId:(null==n?void 0:n.id)||"",userId:d,showDescription:!0,isSelectable:!0,refreshProduct:()=>{}},e.id))}):(0,r.jsx)("h3",{className:"text-lg font-semibold",children:l("noProductFound")})}),(0,r.jsx)(g.eW,{className:"px-6 py-4",children:(0,r.jsx)(y,{currentSellerId:a,onlineSellers:s})})]})})};var $=s(6898),Q=s(2625),X=s(2140);let H=()=>{let{data:e,isLoading:l,refetch:s}=(0,j.a)({queryKey:["paymentUrl"],queryFn:f.GTB,retry:3,enabled:!1});return{paymentUrl:null==e?void 0:e.data,isLoading:l,refetch:s}},J=e=>{let{isLoading:l,onClick:s}=e;return(0,r.jsxs)(n.z,{className:"border-[#3d33a6] group-hover:border-[#3d33a6] p-0 group",variant:"outline",disabled:l,onClick:s,children:[(0,r.jsxs)("svg",{width:"46",viewBox:"20 0 40 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"pl-3 w-14",children:[(0,r.jsxs)("g",{"clip-path":"url(#clip0_16_2460)",children:[(0,r.jsx)("path",{d:"M28.7465 34.0888C24.2637 28.8367 27.2522 15.5602 29.1589 15.5602C25.477 15.4863 19.2669 17.9752 20.1037 26.856C20.428 29.479 21.4172 31.9676 22.9717 34.071C24.5263 36.1745 26.5912 37.8184 28.9584 38.8373C31.3257 39.8562 33.9116 40.2139 36.4558 39.8746C38.9999 39.5352 41.4123 38.5107 43.4499 36.9043C36.409 42.0947 31.6364 37.468 28.7465 34.0888Z",fill:"url(#paint0_linear_16_2460)"}),(0,r.jsx)("path",{d:"M45.1931 25.1679C41.4695 32.8474 30.0474 36.0787 28.7563 34.1011C30.9888 37.4433 36.5265 42.1101 43.5046 36.8734C45.5247 35.2573 47.0962 33.1214 48.0613 30.6806C49.0264 28.2397 49.3509 25.58 49.0022 22.9689C48.6536 20.3577 47.6441 17.8872 46.0752 15.8059C44.5063 13.7245 42.4334 12.1056 40.0649 11.1121C47.9515 14.7223 47.1536 21.1234 45.1931 25.1679Z",fill:"url(#paint1_linear_16_2460)"}),(0,r.jsx)("path",{d:"M29.1602 15.5613C37.2292 14.671 46.3531 23.1852 45.1936 25.169C47.4648 21.2015 47.9848 14.7234 40.1131 11.1132C37.7418 10.118 35.1584 9.78278 32.6218 10.1412C30.0853 10.4996 27.6847 11.5391 25.6607 13.1554C23.6368 14.7716 22.0606 16.9079 21.0902 19.35C20.1199 21.7922 19.7894 24.4543 20.1319 27.0696C19.5611 18.2381 26.1478 15.8939 29.1602 15.5613Z",fill:"url(#paint2_linear_16_2460)"})]}),(0,r.jsxs)("linearGradient",{id:"paint0_linear_16_2460",x1:"23.1041",y1:"17.5615",x2:"36.9885",y2:"40.8976",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#3B8964"}),(0,r.jsx)("stop",{offset:"0.25","stop-color":"#5ABF8C"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_16_2460",x1:"33.6387",y1:"38.5088",x2:"48.0033",y2:"15.916",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#803471"}),(0,r.jsx)("stop",{offset:"0.21","stop-color":"#B34F9E"})]}),(0,r.jsxs)("linearGradient",{id:"paint2_linear_16_2460",x1:"22.2234",y1:"16.1265",x2:"45.6611",y2:"24.404",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.6","stop-color":"#F99C2E"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#C57538"})]}),(0,r.jsx)("clipPath",{id:"clip0_16_2460",children:(0,r.jsx)("rect",{width:"30",height:"30",fill:"white",transform:"translate(20 10)"})}),(0,r.jsx)("clipPath",{id:"clip1_16_2460",children:(0,r.jsx)("rect",{width:"72",height:"22",fill:"white",transform:"translate(173 14)"})})]}),(0,r.jsx)("span",{className:"text-white bg-[#4C40CF] group-hover:bg-[#3d33a6] h-full justify-center flex items-center rounded-r-sm w-[165px]",children:l?(0,r.jsx)(w.BGW,{className:"h-4 w-4 animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["Payer avec ",(0,r.jsx)("span",{className:"font-bold ml-1",children:"helloasso"})]})})]})},ee=e=>{let{isOpened:l,setIsOpened:s,isLoading:i,title:c,description:d,validateLabel:o,callback:x,width:u="w-[100px]",customButton:m}=e;return(0,r.jsx)(t.Vq,{open:l,onOpenChange:s,children:(0,r.jsxs)(t.cZ,{className:"sm:max-w-[600px]",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(t.fK,{children:(0,r.jsx)(t.$N,{children:c})}),(0,r.jsx)(a.Be,{children:d}),(0,r.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,r.jsx)(n.z,{variant:"outline",onClick:function(e){e.stopPropagation(),s(!1)},disabled:i,className:u,children:"Annuler"}),null!=m?m:(0,r.jsx)(Z.f,{isLoading:i,onClick:function(e){e.stopPropagation(),x&&x()},className:u,children:o})]})]})})},el=()=>{let e=(0,x.useTranslations)("PaymentButton"),[l,s]=(0,S.useState)(!1),{paymentUrl:a,isLoading:i,refetch:t}=H(),c=(0,m.useRouter)();return!i&&a&&c.push(a.url),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee,{isOpened:l,setIsOpened:s,isLoading:i,title:e("pay"),description:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-2 font-semibold",children:e("title")}),(0,r.jsx)("p",{children:e("description")})]}),customButton:(0,r.jsx)(J,{isLoading:i,onClick:()=>t()})}),(0,r.jsx)(n.z,{className:"col-span-4 ml-auto w-[100px]",onClick:e=>{s(!0)},children:e("pay")})]})},es=()=>{let e=(0,x.useTranslations)("Recap"),{userId:l}=(0,o.u)(),{user:s}=(0,b.a)(l),{purchases:a,total:i}=(0,d.$)(l),{total:n}=(0,$.T)(l),{onlineSellers:t}=N(),c=(i||0)-(n||0);return(0,r.jsxs)(g.Zb,{children:[(0,r.jsx)(g.Ol,{}),(0,r.jsx)(g.aY,{className:"space-y-2",children:s&&(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)(X.q,{user:s}),(0,r.jsx)(Q.X,{user:s}),(0,r.jsxs)("div",{className:"flex items-center justify-around",children:[c>=0&&(0,r.jsxs)("div",{className:"italic",children:[e("remainingToPay")," ",c.toFixed(2)," €"]}),a.length>0&&c>0&&(0,r.jsx)(el,{})]})]})}),(0,r.jsx)(g.eW,{className:"px-6 py-4 ",children:(0,r.jsx)(y,{currentSellerId:"recap",onlineSellers:t})})]})},er=e=>{let{user:l,onlineSellers:s}=e,a=(0,m.useSearchParams)().get("sellerId")||"intro";return"intro"===a?(0,r.jsx)(M,{}):"info"===a?(0,r.jsx)(C,{}):"recap"===a?(0,r.jsx)(es,{}):(0,r.jsx)(Y,{})};function ea(){let{userId:e}=(0,o.u)(),{user:l,refetch:s}=(0,b.a)(e),a=(0,m.useRouter)(),i=(0,m.useSearchParams)().get("code"),{onlineSellers:n}=N(),[t,d]=(0,S.useState)(!0);return(0,r.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:["succeeded"===i&&(0,r.jsx)(c,{isOpened:t,setIsOpened:d,title:"Paiement effectu\xe9",description:"Votre paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s",status:"SUCCESS",callback:()=>{s(),d(!1),a.replace("/?sellerId=recap")}}),"refused"===i&&(0,r.jsx)(c,{isOpened:t,setIsOpened:d,title:"Paiement refus\xe9",description:"Votre paiement a \xe9t\xe9 refus\xe9. Vous pouvez r\xe9essayer de payer, si le probl\xe8me persiste, veuillez nous contacter.",status:"ERROR",callback:()=>{d(!1),a.replace("/?sellerId=recap")}}),(0,r.jsx)("main",{className:"flex min-h-[calc(100vh_-_theme(spacing.32))] flex-1 flex-col gap-4 bg-muted/40 p-4 md:gap-8 md:p-10",children:n&&(0,r.jsxs)("div",{className:"mx-auto grid w-full max-w-6xl items-start gap-6 md:grid-cols-[180px_1fr] lg:grid-cols-[250px_1fr]",children:[(0,r.jsx)(p,{canClick:!!(null==l?void 0:l.curriculum),onlineSellers:n}),l&&(0,r.jsx)(er,{user:l,onlineSellers:n})]})}),(0,r.jsx)("footer",{className:"py-6 md:px-8 md:py-0 border-t-2",children:(0,r.jsx)("div",{className:"w-full max-w-screen-xl mx-auto p-4 md:py-8",children:(0,r.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between",children:[(0,r.jsx)("p",{className:"text-balance text-sm leading-loose text-muted-foreground",children:"D\xe9velopp\xe9 par \xc9CLAIR"}),(0,r.jsxs)("span",{className:"block text-sm text-gray-500 sm:text-center dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," ",(0,r.jsx)("a",{href:"https://www.eclair.ec-lyon.fr/",className:"font-medium underline underline-offset-4",children:"\xc9CLAIR"}),". Tout droits r\xe9serv\xe9s."]})]})})})]})}}},function(e){e.O(0,[310,516,422,8,622,213,480,189,74,971,23,744],function(){return e(e.s=3258)}),_N_E=e.O()}]);