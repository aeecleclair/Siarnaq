"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{2339:function(r,e,n){n.d(e,{QA_:function(){return D},vJT:function(){return a},_q9:function(){return h},kem:function(){return W},vk_:function(){return M},wwy:function(){return L},w_J:function(){return N},Uoh:function(){return T},kHc:function(){return A},keh:function(){return s},vsp:function(){return f},_F7:function(){return c},MgL:function(){return v},fRZ:function(){return U},aKu:function(){return j},DFn:function(){return b},Dy4:function(){return q},CTm:function(){return u},C$B:function(){return d},sHZ:function(){return l},uVF:function(){return O},kNd:function(){return y},La1:function(){return F},jA4:function(){return P},utF:function(){return V},HUD:function(){return z},WBt:function(){return $},zSX:function(){return X},XYB:function(){return _},JqZ:function(){return Z},Nyn:function(){return m},kb4:function(){return B},ACF:function(){return i},gKZ:function(){return E},Q2l:function(){return S},hRe:function(){return w},GTB:function(){return R},sKK:function(){return o},NxE:function(){return p},XwI:function(){return K},DAi:function(){return C},p$$:function(){return J},keo:function(){return g},Vum:function(){return x},yyc:function(){return I},rBk:function(){return k}});var t=n(2291);let u=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/users/"})},l=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/users/{user_id}/"})},i=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/users/{user_id}/"})},o=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/sellers/"})},d=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/users/me/sellers/"})},s=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/online/sellers/"})},c=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/products/"})},a=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/sellers/{seller_id}/"})},v=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/sellers/{seller_id}/products/"})},p=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/sellers/{seller_id}/products/"})},f=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/online/sellers/{seller_id}/products/"})},_=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/"})},h=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/"})},g=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/variants/"})},m=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/variants/{variant_id}/"})},L=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/variants/{variant_id}/"})},y=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/users/{user_id}/purchases/"})},b=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/sellers/{seller_id}/users/{user_id}/purchases/"})},k=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/users/{user_id}/purchases/{product_variant_id}/"})},T=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/users/{user_id}/purchases/{product_variant_id}/"})},S=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/users/{user_id}/purchases/{product_variant_id}/validated/"})},A=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/curriculums/"})},w=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/curriculums/"})},D=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/curriculums/{curriculum_id}/"})},x=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/users/{user_id}/curriculums/{curriculum_id}/"})},E=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/users/{user_id}/curriculums/{curriculum_id}/"})},O=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/users/{user_id}/payments/"})},I=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/users/{user_id}/payments/"})},N=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/users/{user_id}/payments/{payment_id}/"})},R=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/pay/"})},F=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/year/"})},q=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/status/"})},B=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/status/"})},C=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/tickets/"})},M=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/tickets/{ticket_generator_id}"})},U=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/data/"})},K=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/data/"})},W=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).delete({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/data/{field_id}/"})},j=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/users/{user_id}/data/{field_id}/"})},J=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).post({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/users/{user_id}/data/{field_id}/"})},Z=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).patch({...r,url:"/cdr/sellers/{seller_id}/products/{product_id}/users/{user_id}/data/{field_id}/"})},P=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/groups/"})},V=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/memberships/"})},z=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/memberships/users/{user_id}"})},X=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/users/search"})},$=r=>{var e;return(null!==(e=null==r?void 0:r.client)&&void 0!==e?e:t.Lp).get({...r,url:"/users/me"})}},2381:function(r,e,n){n.d(e,{d:function(){return d},z:function(){return s}});var t=n(7437),u=n(2265),l=n(7053),i=n(7712),o=n(3448);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=u.forwardRef((r,e)=>{let{className:n,variant:u,size:i,asChild:s=!1,...c}=r,a=s?l.g7:"button";return(0,t.jsx)(a,{className:(0,o.cn)(d({variant:u,size:i,className:n})),ref:e,...c})});s.displayName="Button"},8752:function(r,e,n){n.d(e,{p:function(){return v}});var t=n(2265),u=n(8706);let l=0,i=new Map,o=r=>{if(i.has(r))return;let e=setTimeout(()=>{i.delete(r),a({type:"REMOVE_TOAST",toastId:r})},1e6);i.set(r,e)},d=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,1)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{let{toastId:n}=e;return n?o(n):r.toasts.forEach(r=>{o(r.id)}),{...r,toasts:r.toasts.map(r=>r.id===n||void 0===n?{...r,open:!1}:r)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...r,toasts:[]};return{...r,toasts:r.toasts.filter(r=>r.id!==e.toastId)}}},s=[],c={toasts:[]};function a(r){c=d(c,r),s.forEach(r=>{r(c)})}function v(){let[r,e]=t.useState(c),n=(0,u.T_)("toast");return t.useEffect(()=>(s.push(e),()=>{let r=s.indexOf(e);r>-1&&s.splice(r,1)}),[r]),{...r,toast:r=>{let{...e}=r;return e.title||(e.title=n("error")),function(r){let{...e}=r,n=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>a({type:"DISMISS_TOAST",toastId:n});return a({type:"ADD_TOAST",toast:{...e,id:n,className:"bg-muted",open:!0,onOpenChange:r=>{r||t()}}}),{id:n,dismiss:t,update:r=>a({type:"UPDATE_TOAST",toast:{...r,id:n}})}}({...e})},dismiss:r=>a({type:"DISMISS_TOAST",toastId:r})}}},5860:function(r,e,n){n.d(e,{h:function(){return i}});var t=n(2339),u=n(16),l=n(3972);let i=()=>{var r,e;let{isTokenExpired:n}=(0,l.d)(),{data:i,isLoading:o,refetch:d}=(0,u.a)({queryKey:["coreUser"],queryFn:t.WBt,retry:3,enabled:!n()});return{user:null==i?void 0:i.data,isAdmin:null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(r=e.groups)||void 0===r?void 0:r.map(r=>r.id).includes("c1275229-46b2-4e53-a7c4-305513bb1a2a"),isLoading:o,refetch:d}}},4259:function(r,e,n){n.d(e,{d:function(){return i}});var t=n(2339),u=n(16),l=n(3972);let i=()=>{let{isTokenExpired:r}=(0,l.d)(),{data:e,isLoading:n,refetch:i}=(0,u.a)({queryKey:["sellers"],queryFn:t.C$B,retry:3,enabled:!r()});return{sellers:(null==e?void 0:e.data)||[],isLoading:n,refetch:i}}},3972:function(r,e,n){n.d(e,{d:function(){return d}});var t=n(5049),u=n(16),l=n(9376),i=n(811),o=n(2265);let d=()=>{let{locale:r}=(0,l.useParams)(),e=(0,l.useRouter)(),n=new URL("https://hyperion.myecl.fr"),d={client_id:"Siarnaq",token_endpoint_auth_method:"none"};async function s(){return i.FC(n,{algorithm:"oauth2"}).then(r=>i.hS(n,r))}let{token:c,setToken:a,refreshToken:v,setRefreshToken:p}=(0,t.u)(),[f,_]=(0,o.useState)(!1),h=()=>!c||JSON.parse(atob(c.split(".")[1])).exp-60<Math.floor(Date.now()/1e3);async function g(){var n;let t;if(!h())return c;if(f)return;if(!v){a(null),e.push("/".concat(r,"/login"));return}_(!0);let u=await s(),l=await i.P1(u,d,v);if(t=i.ju(l)){for(let r of t)console.error("WWW-Authenticate Challenge",r);a(null),p(null),e.push("/".concat(r,"/login"));return}let o=await i.b0(u,d,l);if(i.BR(o)){console.error("Error Response",o),a(null),p(null),e.push("/".concat(r,"/login"));return}return a(o.access_token),p(null!==(n=o.refresh_token)&&void 0!==n?n:null),o.access_token}let{data:m,isLoading:L,error:y,refetch:b}=(0,u.a)({queryKey:["token",c,h()],queryFn:async()=>g().then(r=>(_(!1),r)),enabled:h()});return{token:m,isLoading:L,error:y,getToken:g,refetch:b,isTokenExpired:h}}},3372:function(r,e,n){n.d(e,{jD:function(){return o},rU:function(){return l},tv:function(){return d}});var t=n(2223),u=n(9656);let{Link:l,redirect:i,usePathname:o,useRouter:d,getPathname:s}=(0,t.Z)(u.D)},9656:function(r,e,n){n.d(e,{D:function(){return t}});let t=(0,n(5426).Z)({locales:["fr","en"],defaultLocale:"fr",localePrefix:"always",localeDetection:!1})},3448:function(r,e,n){n.d(e,{cn:function(){return l}});var t=n(1994),u=n(3335);function l(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return(0,u.m6)((0,t.W)(e))}},5049:function(r,e,n){n.d(e,{u:function(){return l}});var t=n(9625),u=n(6885);let l=(0,t.Ue)()((0,u.mW)((0,u.tJ)(r=>({token:null,refreshToken:null,userId:null,setToken:e=>{let n=e?JSON.parse(atob(e.split(".")[1])).sub:null;r({token:e,userId:n})},setRefreshToken:e=>{r({refreshToken:e})}}),{name:"token-storage"})))}}]);